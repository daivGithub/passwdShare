{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/share-vue-template/card-list/cardList.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/share-vue-template/card-list/cardList.vue","mtime":1579165050544},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgIi4vY2FyZExpc3QubGVzcyI7Cg=="},{"version":3,"sources":["cardList.vue"],"names":[],"mappings":";AACA","file":"cardList.vue","sourceRoot":"src/views/share-vue-template/card-list","sourcesContent":["<style lang=\"less\">\n@import \"./cardList.less\";\n</style>\n<template>\n  <div class=\"search\">\n    <Card>\n      <Tabs value=\"1\">\n        <TabPane label=\"文件/应用类\" name=\"1\">\n          <div class=\"card-wrapper\">\n            <Card v-for=\"(item, i) in data\" :key=\"i\" class=\"card\">\n              <div class=\"content\">\n                <img\n                  @click=\"showPic(item)\"\n                  v-if=\"item.type.indexOf('image')>=0\"\n                  class=\"img\"\n                  :src=\"item.url\"\n                />\n                <div\n                  v-else-if=\"item.type.indexOf('video')>=0\"\n                  class=\"video\"\n                  @click=\"showVideo(item)\"\n                >\n                  <!-- 文件小于5MB显示video -->\n                  <video class=\"cover\" v-if=\"item.size<1024 * 1024 * 5\">\n                    <source :src=\"item.url\" />\n                  </video>\n                  <img class=\"play\" src=\"@/assets/play.png\" />\n                </div>\n                <div v-else class=\"other\">\n                  <div class=\"name\">{{item.name}}</div>\n                  <div class=\"key\">{{item.fkey}}</div>\n                  <div\n                    class=\"info\"\n                  >文件类型：{{item.type}} 文件大小：{{((item.size * 1.0) / (1024 * 1024)).toFixed(2)}} MB 创建时间：{{item.createTime}}</div>\n                </div>\n                <div class=\"actions\">\n                  <div class=\"btn\">\n                    <Tooltip content=\"下载\" placement=\"top\">\n                      <Icon @click=\"download(item)\" type=\"md-download\" size=\"16\" />\n                    </Tooltip>\n                  </div>\n                  <div class=\"btn\">\n                    <Tooltip content=\"重命名\" placement=\"top\">\n                      <Icon @click=\"rename(item)\" type=\"md-create\" size=\"16\" />\n                    </Tooltip>\n                  </div>\n                  <div class=\"btn\">\n                    <Tooltip content=\"复制\" placement=\"top\">\n                      <Icon @click=\"copy(item)\" type=\"md-copy\" size=\"16\" />\n                    </Tooltip>\n                  </div>\n                  <div class=\"btn-no\">\n                    <Tooltip content=\"删除\" placement=\"top\">\n                      <Icon @click=\"remove(item)\" type=\"md-trash\" size=\"16\" />\n                    </Tooltip>\n                  </div>\n                </div>\n              </div>\n            </Card>\n          </div>\n        </TabPane>\n        <TabPane label=\"项目类\" name=\"2\">\n          <div class=\"card-wrapper\">\n            <Card @click=\"showProject(item)\" v-for=\"(item, i) in data2\" :key=\"i\" class=\"card\">\n              <div class=\"project\">\n                <img class=\"img\" :src=\"item.url\" />\n                <div class=\"content\">\n                  <div class=\"title\">{{item.title}}</div>\n                  <div class=\"desc\">{{item.description}}</div>\n                  <div class=\"info\">\n                    <div class=\"time\">\n                      <Time :time=\"new Date()\" :interval=\"1\" />\n                    </div>\n                    <div class=\"avatar\">\n                      <div v-for=\"(iitem, i) in item.author\" :key=\"i\" class=\"item\">\n                        <Tooltip :content=\"iitem.name\" placement=\"top\">\n                          <Avatar :src=\"iitem.avatar\" size=\"small\" class=\"c\" />\n                        </Tooltip>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Card>\n          </div>\n        </TabPane>\n      </Tabs>\n    </Card>\n\n    <Modal v-model=\"picVisible\" :title=\"picTitle\" draggable>\n      <img :src=\"file.url\" alt=\"无效的图片链接\" style=\"width: 100%;margin: 0 auto;display: block;\" />\n      <div slot=\"footer\">\n        <span>文件类型：{{file.type}} 文件大小：{{file.msize}} 创建时间：{{file.createTime}}</span>\n      </div>\n    </Modal>\n\n    <Modal\n      v-model=\"videoVisible\"\n      :title=\"videoTitle\"\n      :width=\"800\"\n      @on-cancel=\"closeVideo\"\n      draggable\n    >\n      <div id=\"dplayer\"></div>\n      <div slot=\"footer\">\n        <span>文件类型：{{file.type}} 文件大小：{{file.msize}} 创建时间：{{file.createTime}}</span>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport \"dplayer/dist/DPlayer.min.css\";\nimport DPlayer from \"dplayer\";\nvar dp;\nexport default {\n  name: \"card-list\",\n  data() {\n    return {\n      picVisible: false,\n      videoVisible: false,\n      picTitle: \"\",\n      videoTitle: \"\",\n      file: {},\n      data: [\n        {\n          url:\n            \"https://gw.alipayobjects.com/zos/rmsportal/iXjVmWVHbCJAyqvDxdtx.png\",\n          name: \"XBoot\",\n          type: \"image\",\n          fkey: \"XBoot 是很不错的Web前后端分离架构开发平台\",\n          size: 28659,\n          createTime: \"2018-10-22\"\n        },\n        {\n          url:\n            \"https://gw.alipayobjects.com/zos/rmsportal/iZBVOIhGJiAnhplqjvZW.png\",\n          name: \"Daiv\",\n          type: \"image\",\n          fkey: \"XBoot 是很不错的Web前后端分离架构开发平台\",\n          size: 18659,\n          createTime: \"2018-10-22\"\n        },\n        {\n          url:\n            \"https://cloud.video.taobao.com//play/u/95292294/p/1/e/6/t/1/210877258798.mp4\",\n          name: \"这是个可以发弹幕的视频播放器\",\n          type: \"video\",\n          fkey: \"XBoot 是很不错的Web前后端分离架构开发平台\",\n          size: 8659,\n          createTime: \"2018-10-22\"\n        },\n        {\n          url:\n            \"https://icarusion.gitee.io/iview/e1cf12c07bf6458992569e67927d767e.png\",\n          name: \"XBoot\",\n          type: \"txt\",\n          fkey: \"XBoot 是很不错的Web前后端分离架构开发平台\",\n          size: 8659,\n          createTime: \"2018-10-22\"\n        }\n      ],\n      data2: [\n        {\n          url:\n            \"https://gw.alipayobjects.com/zos/rmsportal/iXjVmWVHbCJAyqvDxdtx.png\",\n          title: \"XBoot\",\n          description: \"XBoot 是很不错的Web前后端分离架构开发平台\",\n          author: [\n            {\n              name: \"XBoot\",\n              avatar: \"https://s1.ax1x.com/2018/05/19/CcdVQP.png\"\n            },\n            {\n              name: \"Daiv\",\n              avatar: \"https://i.loli.net/2018/10/14/5bc2ccaa3149c.png\"\n            }\n          ],\n          createTime: \"2018-10-22\"\n        },\n        {\n          url:\n            \"https://gw.alipayobjects.com/zos/rmsportal/iZBVOIhGJiAnhplqjvZW.png\",\n          title: \"Daiv\",\n          description: \"XBoot 是很不错的Web前后端分离架构开发平台\",\n          author: [\n            {\n              name: \"XBoot\",\n              avatar: \"https://s1.ax1x.com/2018/05/19/CcdVQP.png\"\n            },\n            {\n              name: \"Daiv\",\n              avatar: \"https://i.loli.net/2018/10/14/5bc2ccaa3149c.png\"\n            }\n          ],\n          createTime: \"2018-10-22\"\n        }\n      ]\n    };\n  },\n  methods: {\n    init() {},\n    showPic(v) {\n      this.file = v;\n      this.file.msize = ((v.size * 1.0) / (1024 * 1024)).toFixed(2) + \" MB\";\n      this.picTitle = v.name + \"(\" + v.fkey + \")\";\n      this.picVisible = true;\n    },\n    showVideo(v) {\n      dp = new DPlayer({\n        container: document.getElementById(\"dplayer\"),\n        screenshot: true,\n        video: {\n          url: v.url\n        },\n        danmaku: {\n          id: v.fkey,\n          api: \"https://api.prprpr.me/dplayer/\"\n        }\n      });\n      this.file = v;\n      this.file.msize = ((v.size * 1.0) / (1024 * 1024)).toFixed(2) + \" MB\";\n      this.videoTitle = v.name + \"(\" + v.fkey + \")\";\n      this.videoVisible = true;\n    },\n    closeVideo() {\n      dp.destroy();\n    },\n    download(v) {\n      window.open(\n        v.url + \"?attname=&response-content-type=application/octet-stream\"\n      );\n    },\n    copy(v) {\n      this.$Message.info(\"点击了 \" + v.name + \" 的复制图标\");\n    },\n    remove(v) {\n      this.$Message.info(\"点击了 \" + v.name + \" 的删除图标\");\n    },\n    rename(v) {\n      this.$Message.info(\"点击了 \" + v.name + \" 的重命名图标\");\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};\n</script>\n"]}]}