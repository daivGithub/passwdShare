{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/Main.vue","mtime":1579164402613},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzaHJpbmthYmxlTWVudSBmcm9tICIuL21haW4tY29tcG9uZW50cy9zaHJpbmthYmxlLW1lbnUvc2hyaW5rYWJsZS1tZW51LnZ1ZSI7CmltcG9ydCB0YWdzUGFnZU9wZW5lZCBmcm9tICIuL21haW4tY29tcG9uZW50cy90YWdzLXBhZ2Utb3BlbmVkLnZ1ZSI7CmltcG9ydCBicmVhZGNydW1iTmF2IGZyb20gIi4vbWFpbi1jb21wb25lbnRzL2JyZWFkY3J1bWItbmF2LnZ1ZSI7CmltcG9ydCBmdWxsU2NyZWVuIGZyb20gIi4vbWFpbi1jb21wb25lbnRzL2Z1bGxzY3JlZW4udnVlIjsKaW1wb3J0IGxvY2tTY3JlZW4gZnJvbSAiLi9tYWluLWNvbXBvbmVudHMvbG9ja3NjcmVlbi9sb2Nrc2NyZWVuLnZ1ZSI7CmltcG9ydCBtZXNzYWdlVGlwIGZyb20gIi4vbWFpbi1jb21wb25lbnRzL21lc3NhZ2UtdGlwLnZ1ZSI7CmltcG9ydCBjaXJjbGVMb2FkaW5nIGZyb20gIkAvdmlld3MvbXktY29tcG9uZW50cy9zaGFyZS9jaXJjbGUtbG9hZGluZy52dWUiOwppbXBvcnQgQ29va2llcyBmcm9tICJqcy1jb29raWUiOwppbXBvcnQgdXRpbCBmcm9tICJAL2xpYnMvdXRpbC5qcyI7CmltcG9ydCB7IHdzLCBnZXRNZXNzYWdlU2VuZERhdGEsIGdldE90aGVyU2V0IH0gZnJvbSAiQC9hcGkvaW5kZXgiOwppbXBvcnQgU29ja0pTIGZyb20gInNvY2tqcy1jbGllbnQiOwppbXBvcnQgU3RvbXAgZnJvbSAic3RvbXBqcyI7CnZhciBjbGllbnQ7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBzaHJpbmthYmxlTWVudSwKICAgIHRhZ3NQYWdlT3BlbmVkLAogICAgYnJlYWRjcnVtYk5hdiwKICAgIGZ1bGxTY3JlZW4sCiAgICBsb2NrU2NyZWVuLAogICAgbWVzc2FnZVRpcCwKICAgIGNpcmNsZUxvYWRpbmcKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzbGljZU51bTogMywKICAgICAgc2hyaW5rOiBmYWxzZSwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICB1c2VySWQ6ICIiLAogICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlLAogICAgICBvcGVuZWRTdWJtZW51QXJyOiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAub3BlbmVkU3VibWVudUFyciwKICAgICAgZmlyc3RUaHJlZU5hdjogW10sCiAgICAgIGxhc3ROYXY6IFtdLAogICAgICBuYXZUeXBlOiAxCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAubG9hZGluZzsKICAgIH0sCiAgICBuYXZMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLm5hdkxpc3Q7CiAgICB9LAogICAgY3Vyck5hdigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5jdXJyTmF2OwogICAgfSwKICAgIGN1cnJOYXZUaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5jdXJyTmF2VGl0bGU7CiAgICB9LAogICAgbWVudUxpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAubWVudUxpc3Q7CiAgICB9LAogICAgcGFnZVRhZ3NMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnBhZ2VPcGVuZWRMaXN0OyAvLyDmiZPlvIDnmoTpobXpnaLnmoTpobXpnaLlr7nosaEKICAgIH0sCiAgICBjdXJyZW50UGF0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5jdXJyZW50UGF0aDsgLy8g5b2T5YmN6Z2i5YyF5bGR5pWw57uECiAgICB9LAogICAgYXZhdGFyUGF0aCgpIHsKICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5hdmF0b3JJbWdQYXRoOwogICAgfSwKICAgIGNhY2hlUGFnZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5jYWNoZVBhZ2U7CiAgICB9LAogICAgbGFuZygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5sYW5nOwogICAgfSwKICAgIG1lbnVUaGVtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5tZW51VGhlbWU7CiAgICB9LAogICAgbWVzQ291bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAubWVzc2FnZUNvdW50OwogICAgfQogIH0sCiAgc3RvbXBDbGllbnQ6IHsKICAgIG1vbml0b3JJbnRlcnZhbFRpbWU6IDEwMCwKICAgIHN0b21wUmVjb25uZWN0OiB0cnVlLAogICAgdGltZW91dChvcmdDbWQpIHt9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0KCkgewogICAgICAvLyDoj5zljZUKICAgICAgbGV0IHBhdGhBcnIgPSB1dGlsLnNldEN1cnJlbnRQYXRoKHRoaXMsIHRoaXMuJHJvdXRlLm5hbWUpOwogICAgICAvLyB0aGlzLiRzdG9yZS5jb21taXQoInVwZGF0ZU1lbnVsaXN0Iik7CiAgICAgIGlmIChwYXRoQXJyLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJhZGRPcGVuU3VibWVudSIsIHBhdGhBcnJbMV0ubmFtZSk7CiAgICAgIH0KICAgICAgbGV0IHVzZXJJbmZvID0gSlNPTi5wYXJzZShDb29raWVzLmdldCgidXNlckluZm8iKSk7CiAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VySW5mby51c2VybmFtZTsKICAgICAgdGhpcy51c2VySWQgPSB1c2VySW5mby5pZDsKICAgICAgdGhpcy5jaGVja1RhZyh0aGlzLiRyb3V0ZS5uYW1lKTsKICAgICAgbGV0IGN1cnJXaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgIGlmIChjdXJyV2lkdGggPD0gMTIwMCkgewogICAgICAgIHRoaXMuc2xpY2VOdW0gPSAyOwogICAgICB9CiAgICAgIC8vIOivu+WPluacquivu+a2iOaBr+aVsAogICAgICBnZXRNZXNzYWdlU2VuZERhdGEoewogICAgICAgIHVzZXJJZDogdXNlckluZm8uaWQsCiAgICAgICAgc3RhdHVzOiAwCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TWVzc2FnZUNvdW50IiwgcmVzLnJlc3VsdC50b3RhbEVsZW1lbnRzKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyDmtojmga/lvIDlhbMgd2Vic29ja2V0CiAgICAgIGxldCBtZXNzYWdlT3BlbiA9IHRoaXMuZ2V0U3RvcmUoIm1lc3NhZ2VPcGVuIik7CiAgICAgIGlmIChtZXNzYWdlT3BlbiAhPSAiMCIpIHsKICAgICAgICB0aGlzLmNvbm5lY3QoKTsKICAgICAgfQogICAgfSwKICAgIGNvbm5lY3QoKSB7CiAgICAgIHZhciBoZWFkZXJzID0ge307CiAgICAgIGNsaWVudCA9IFN0b21wLm92ZXIobmV3IFNvY2tKUyh3cykpOwogICAgICBjbGllbnQuY29ubmVjdChoZWFkZXJzLCB0aGlzLm9uQ29ubmVjdGVkLCB0aGlzLm9uRmFpbGVkKTsKICAgIH0sCiAgICBvbkNvbm5lY3RlZChmcmFtZSkgewogICAgICBjb25zb2xlLmxvZygi6L+e5o6ld3PmiJDlip86ICIgKyBmcmFtZSk7CiAgICAgIHZhciB0b3BpY1N1YnNjcmlwdGlvbiA9IGNsaWVudC5zdWJzY3JpYmUoCiAgICAgICAgIi90b3BpYy9zdWJzY3JpYmUiLAogICAgICAgIHRoaXMucmVzcG9uc2VDYWxsYmFjawogICAgICApOwogICAgICB2YXIgcXVldWVTdWJzY3JpcHRpb24gPSBjbGllbnQuc3Vic2NyaWJlKAogICAgICAgICIvdXNlci8iICsgdGhpcy51c2VySWQgKyAiL3F1ZXVlL3N1YnNjcmliZSIsCiAgICAgICAgdGhpcy5yZXNwb25zZUNhbGxiYWNrCiAgICAgICk7CiAgICB9LAogICAgb25GYWlsZWQoZnJhbWUpIHsKICAgICAgY29uc29sZS5sb2coIui/nuaOpXdz5aSx6LSl77yaICIgKyBKU09OLnN0cmluZ2lmeShmcmFtZSkpOwogICAgfSwKICAgIHJlc3BvbnNlQ2FsbGJhY2soZnJhbWUpIHsKICAgICAgY29uc29sZS5sb2coIuaUtuWIsOa2iOaBr++8miIgKyBmcmFtZS5ib2R5KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRNZXNzYWdlQ291bnQiLCB0aGlzLm1lc0NvdW50ICsgMSk7CiAgICB9LAogICAgc2VsZWN0TmF2KG5hbWUpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRDdXJyTmF2IiwgbmFtZSk7CiAgICAgIHRoaXMuc2V0U3RvcmUoImN1cnJOYXYiLCBuYW1lKTsKICAgICAgLy8g5riF56m65omA5pyJ5bey5omT5byA5qCH562+CiAgICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgiY2xlYXJBbGxUYWdzIik7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lICE9ICJob21lX2luZGV4IikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJob21lX2luZGV4IgogICAgICAgIH0pOwogICAgICB9CiAgICAgIHV0aWwuaW5pdFJvdXRlcih0aGlzKTsKICAgIH0sCiAgICB0b2dnbGVDbGljaygpIHsKICAgICAgdGhpcy5zaHJpbmsgPSAhdGhpcy5zaHJpbms7CiAgICB9LAogICAgaGFuZGxlTGFuRHJvcGRvd24obmFtZSkgewogICAgICB0aGlzLiRpMThuLmxvY2FsZSA9IG5hbWU7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic3dpdGNoTGFuZyIsIG5hbWUpOwogICAgfSwKICAgIGhhbmRsZUNsaWNrVXNlckRyb3Bkb3duKG5hbWUpIHsKICAgICAgaWYgKG5hbWUgPT0gIm93blNwYWNlIikgewogICAgICAgIHV0aWwub3Blbk5ld1BhZ2UodGhpcywgIm93bnNwYWNlX2luZGV4Iik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIm93bnNwYWNlX2luZGV4IgogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gImNoYW5nZVBhc3MiKSB7CiAgICAgICAgdXRpbC5vcGVuTmV3UGFnZSh0aGlzLCAiY2hhbmdlX3Bhc3MiKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAiY2hhbmdlX3Bhc3MiCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAibG9naW5vdXQiKSB7CiAgICAgICAgLy8g6YCA5Ye655m75b2VCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRMb2FkaW5nIiwgdHJ1ZSk7CiAgICAgICAgZ2V0T3RoZXJTZXQoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldExvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICBsZXQgZG9tYWluID0gcmVzLnJlc3VsdC5zc29Eb21haW47CiAgICAgICAgICAgIENvb2tpZXMuc2V0KCJhY2Nlc3NUb2tlbiIsICIiLCB7CiAgICAgICAgICAgICAgZG9tYWluOiBkb21haW4sCiAgICAgICAgICAgICAgZXhwaXJlczogNwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9nb3V0IiwgdGhpcyk7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImNsZWFyT3BlbmVkU3VibWVudSIpOwogICAgICAgICAgdGhpcy5zZXRTdG9yZSgiYWNjZXNzVG9rZW4iLCAiIik7CiAgICAgICAgICAvLyDlvLrliLbliLfmlrDpobXpnaIg6YeN5paw5Yqg6L29cm91dGVyCiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrVGFnKG5hbWUpIHsKICAgICAgbGV0IG9wZW5wYWdlSGFzVGFnID0gdGhpcy5wYWdlVGFnc0xpc3Quc29tZShpdGVtID0+IHsKICAgICAgICBpZiAoaXRlbS5uYW1lID09IG5hbWUpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmICghb3BlbnBhZ2VIYXNUYWcpIHsKICAgICAgICAvLyAg6Kej5Yaz5YWz6Zet5b2T5YmN5qCH562+5ZCO5YaN54K55Ye75Zue6YCA5oyJ6ZKu5Lya6YCA5Yiw5b2T5YmN6aG15pe25rKh5pyJ5qCH562+55qE6Zeu6aKYCiAgICAgICAgdXRpbC5vcGVuTmV3UGFnZSgKICAgICAgICAgIHRoaXMsCiAgICAgICAgICBuYW1lLAogICAgICAgICAgdGhpcy4kcm91dGUucGFyYW1zIHx8IHt9LAogICAgICAgICAgdGhpcy4kcm91dGUucXVlcnkgfHwge30KICAgICAgICApOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU3VibWVudUNoYW5nZSh2YWwpIHsKICAgICAgLy8gY29uc29sZS5sb2codmFsKQogICAgfSwKICAgIGJlZm9yZVB1c2gobmFtZSkgewogICAgICAvLyBjb25zb2xlLmxvZyhuYW1lKQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBmdWxsc2NyZWVuQ2hhbmdlKGlzRnVsbFNjcmVlbikgewogICAgICAvLyBjb25zb2xlLmxvZyhpc0Z1bGxTY3JlZW4pOwogICAgfSwKICAgIHJlc2l6ZSgpIHsKICAgICAgbGV0IGN1cnJXaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgIGlmIChjdXJyV2lkdGggPD0gMTIwMCAmJiBjdXJyV2lkdGggPiA5MDApIHsKICAgICAgICB0aGlzLnNsaWNlTnVtID0gMjsKICAgICAgICB0aGlzLnNocmluayA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAoY3VycldpZHRoIDw9IDkwMCkgewogICAgICAgIHRoaXMuc2xpY2VOdW0gPSAxOwogICAgICAgIHRoaXMuc2hyaW5rID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNsaWNlTnVtID0gMzsKICAgICAgICB0aGlzLnNocmluayA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlKHRvKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0Q3VycmVudFBhZ2VOYW1lIiwgdG8ubmFtZSk7CiAgICAgIGxldCBwYXRoQXJyID0gdXRpbC5zZXRDdXJyZW50UGF0aCh0aGlzLCB0by5uYW1lKTsKICAgICAgaWYgKHBhdGhBcnIubGVuZ3RoID4gMikgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiYWRkT3BlblN1Ym1lbnUiLCBwYXRoQXJyWzFdLm5hbWUpOwogICAgICB9CiAgICAgIHRoaXMuY2hlY2tUYWcodG8ubmFtZSk7CiAgICAgIGxvY2FsU3RvcmFnZS5jdXJyZW50UGFnZU5hbWUgPSB0by5uYW1lOwogICAgfSwKICAgIGxhbmcoKSB7CiAgICAgIHV0aWwuc2V0Q3VycmVudFBhdGgodGhpcywgdGhpcy4kcm91dGUubmFtZSk7IC8vIOWcqOWIh+aNouivreiogOaXtueUqOS6juWIt+aWsOmdouWMheWxkQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogICAgbGV0IHRoYXQgPSB0aGlzOwogICAgdGhpcy5yZXNpemUoKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCBmdW5jdGlvbigpIHsKICAgICAgdGhhdC5yZXNpemUoKTsKICAgIH0pOwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIOaYvuekuuaJk+W8gOeahOmhtemdoueahOWIl+ihqAogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRPcGVuZWRMaXN0Iik7CiAgfQp9Owo="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views","sourcesContent":["<style lang=\"less\">\n@import \"./main.less\";\n</style>\n\n<template>\n  <div class=\"main\" :class=\"{'main-hide-text': shrink}\">\n    <div\n      class=\"sidebar-menu-con menu-bar\"\n      :style=\"{width: shrink ? '60px' : '220px', overflow: shrink ? 'visible' : 'auto'}\"\n    >\n      <shrinkable-menu\n        :shrink=\"shrink\"\n        @on-change=\"handleSubmenuChange\"\n        :theme=\"menuTheme\"\n        :before-push=\"beforePush\"\n        :open-names=\"openedSubmenuArr\"\n        :menu-list=\"menuList\"\n      >\n        <div slot=\"top\" class=\"logo-con\">\n          <img v-show=\"!shrink\" src=\"../assets/logo.png\" key=\"max-logo\" />\n          <img v-show=\"shrink\" src=\"../assets/logo-min.png\" key=\"min-logo\" />\n        </div>\n      </shrinkable-menu>\n    </div>\n    <div class=\"main-header-con\" :style=\"{paddingLeft: shrink?'60px':'220px'}\">\n      <div class=\"main-header\">\n        <div class=\"navicon-con\">\n          <Button\n            :style=\"{transform: 'rotateZ(' + (this.shrink ? '-90' : '0') + 'deg)', height: '48px'}\"\n            type=\"text\"\n            @click=\"toggleClick\"\n          >\n            <Icon type=\"md-menu\" size=\"32\"></Icon>\n          </Button>\n        </div>\n        <div class=\"header-middle-con\">\n          <div class=\"main-breadcrumb\" v-if=\"navType==4\">\n            <breadcrumb-nav :currentPath=\"currentPath\"></breadcrumb-nav>\n          </div>\n          <div class=\"main-nav-menu\" v-if=\"navType==1||navType==2\">\n            <Menu mode=\"horizontal\" :active-name=\"currNav\" @on-select=\"selectNav\">\n              <MenuItem v-for=\"(item, i) in navList.slice(0, sliceNum)\" :key=\"i\" :name=\"item.name\">\n                <Icon :type=\"item.icon\" v-if=\"navType==1\" />\n                {{item.title}}\n              </MenuItem>\n              <Submenu name=\"sub\" v-if=\"navList.length>sliceNum\">\n                <template slot=\"title\">更多</template>\n                <MenuItem\n                  v-for=\"(item, i) in navList.slice(sliceNum, navList.length)\"\n                  :key=\"i\"\n                  :name=\"item.name\"\n                >\n                  <Icon :type=\"item.icon\" v-if=\"navType==1\" />\n                  {{item.title}}\n                </MenuItem>\n              </Submenu>\n            </Menu>\n          </div>\n          <div class=\"main-nav\" v-if=\"navType==3\">\n            <Dropdown transfer @on-click=\"selectNav\">\n              <div style=\"cursor: pointer\">\n                {{currNavTitle}}\n                <Icon type=\"ios-arrow-down\"></Icon>\n              </div>\n              <DropdownMenu slot=\"list\">\n                <DropdownItem\n                  v-for=\"(item, i) in navList\"\n                  :key=\"i\"\n                  :name=\"item.name\"\n                  :selected=\"currNav==item.name\"\n                >\n                  <div class=\"nav-item\">\n                    <Icon :type=\"item.icon\" :size=\"16\" style=\"margin: 0 10px 3px 0\"></Icon>\n                    {{item.title}}\n                  </div>\n                </DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          </div>\n        </div>\n        <div :class=\"{'header-avator-con':navType!=4, 'header-avator-con nav4':navType==4}\">\n          <Dropdown @on-click=\"selectNav\" class=\"options\" v-if=\"navType==4\">\n            <Icon type=\"ios-apps\" :size=\"24\" class=\"language\"></Icon>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem\n                v-for=\"(item, i) in navList\"\n                :key=\"i\"\n                :name=\"item.name\"\n                :selected=\"currNav==item.name\"\n              >\n                <div>\n                  <Icon :type=\"item.icon\" :size=\"14\" style=\"margin: 0 10px 2px 0\"></Icon>\n                  {{item.title}}\n                </div>\n              </DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n          <full-screen v-model=\"isFullScreen\" @on-change=\"fullscreenChange\"></full-screen>\n          <Dropdown @on-click=\"handleLanDropdown\" class=\"options\">\n            <Icon type=\"md-globe\" :size=\"24\" class=\"language\"></Icon>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem name=\"zh-CN\">中文</DropdownItem>\n              <DropdownItem name=\"en-US\">English</DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n          <lock-screen></lock-screen>\n          <message-tip v-model=\"mesCount\"></message-tip>\n          <div class=\"user-dropdown-menu-con\">\n            <Row type=\"flex\" justify=\"end\" align=\"middle\" class=\"user-dropdown-innercon\">\n              <Dropdown transfer trigger=\"hover\" @on-click=\"handleClickUserDropdown\">\n                <a>\n                  <span class=\"main-user-name\">{{ username }}</span>\n                  <Icon type=\"md-arrow-dropdown\" />\n                  <Avatar :src=\"avatarPath\" style=\"background: #619fe7;margin-left: 10px;\"></Avatar>\n                </a>\n                <DropdownMenu slot=\"list\">\n                  <DropdownItem name=\"ownSpace\">{{ $t('userCenter') }}</DropdownItem>\n                  <DropdownItem name=\"changePass\">{{ $t('changePass') }}</DropdownItem>\n                  <DropdownItem name=\"loginout\" divided>{{ $t('logout') }}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            </Row>\n          </div>\n        </div>\n      </div>\n      <div class=\"tags-con\">\n        <tags-page-opened :pageTagsList=\"pageTagsList\"></tags-page-opened>\n      </div>\n    </div>\n    <div class=\"single-page-con\" :style=\"{left: shrink?'60px':'220px'}\">\n      <div class=\"single-page\">\n        <keep-alive :include=\"cachePage\">\n          <router-view></router-view>\n        </keep-alive>\n      </div>\n    </div>\n    <!-- 全局加载动画 -->\n    <circleLoading class=\"loading-position\" v-show=\"loading\" />\n  </div>\n</template>\n\n<script>\nimport shrinkableMenu from \"./main-components/shrinkable-menu/shrinkable-menu.vue\";\nimport tagsPageOpened from \"./main-components/tags-page-opened.vue\";\nimport breadcrumbNav from \"./main-components/breadcrumb-nav.vue\";\nimport fullScreen from \"./main-components/fullscreen.vue\";\nimport lockScreen from \"./main-components/lockscreen/lockscreen.vue\";\nimport messageTip from \"./main-components/message-tip.vue\";\nimport circleLoading from \"@/views/my-components/share/circle-loading.vue\";\nimport Cookies from \"js-cookie\";\nimport util from \"@/libs/util.js\";\nimport { ws, getMessageSendData, getOtherSet } from \"@/api/index\";\nimport SockJS from \"sockjs-client\";\nimport Stomp from \"stompjs\";\nvar client;\nexport default {\n  components: {\n    shrinkableMenu,\n    tagsPageOpened,\n    breadcrumbNav,\n    fullScreen,\n    lockScreen,\n    messageTip,\n    circleLoading\n  },\n  data() {\n    return {\n      sliceNum: 3,\n      shrink: false,\n      username: \"\",\n      userId: \"\",\n      isFullScreen: false,\n      openedSubmenuArr: this.$store.state.app.openedSubmenuArr,\n      firstThreeNav: [],\n      lastNav: [],\n      navType: 1\n    };\n  },\n  computed: {\n    loading() {\n      return this.$store.state.app.loading;\n    },\n    navList() {\n      return this.$store.state.app.navList;\n    },\n    currNav() {\n      return this.$store.state.app.currNav;\n    },\n    currNavTitle() {\n      return this.$store.state.app.currNavTitle;\n    },\n    menuList() {\n      return this.$store.state.app.menuList;\n    },\n    pageTagsList() {\n      return this.$store.state.app.pageOpenedList; // 打开的页面的页面对象\n    },\n    currentPath() {\n      return this.$store.state.app.currentPath; // 当前面包屑数组\n    },\n    avatarPath() {\n      return localStorage.avatorImgPath;\n    },\n    cachePage() {\n      return this.$store.state.app.cachePage;\n    },\n    lang() {\n      return this.$store.state.app.lang;\n    },\n    menuTheme() {\n      return this.$store.state.app.menuTheme;\n    },\n    mesCount() {\n      return this.$store.state.app.messageCount;\n    }\n  },\n  stompClient: {\n    monitorIntervalTime: 100,\n    stompReconnect: true,\n    timeout(orgCmd) {}\n  },\n  methods: {\n    init() {\n      // 菜单\n      let pathArr = util.setCurrentPath(this, this.$route.name);\n      // this.$store.commit(\"updateMenulist\");\n      if (pathArr.length >= 2) {\n        this.$store.commit(\"addOpenSubmenu\", pathArr[1].name);\n      }\n      let userInfo = JSON.parse(Cookies.get(\"userInfo\"));\n      this.username = userInfo.username;\n      this.userId = userInfo.id;\n      this.checkTag(this.$route.name);\n      let currWidth = document.body.clientWidth;\n      if (currWidth <= 1200) {\n        this.sliceNum = 2;\n      }\n      // 读取未读消息数\n      getMessageSendData({\n        userId: userInfo.id,\n        status: 0\n      }).then(res => {\n        if (res.success) {\n          this.$store.commit(\"setMessageCount\", res.result.totalElements);\n        }\n      });\n      // 消息开关 websocket\n      let messageOpen = this.getStore(\"messageOpen\");\n      if (messageOpen != \"0\") {\n        this.connect();\n      }\n    },\n    connect() {\n      var headers = {};\n      client = Stomp.over(new SockJS(ws));\n      client.connect(headers, this.onConnected, this.onFailed);\n    },\n    onConnected(frame) {\n      console.log(\"连接ws成功: \" + frame);\n      var topicSubscription = client.subscribe(\n        \"/topic/subscribe\",\n        this.responseCallback\n      );\n      var queueSubscription = client.subscribe(\n        \"/user/\" + this.userId + \"/queue/subscribe\",\n        this.responseCallback\n      );\n    },\n    onFailed(frame) {\n      console.log(\"连接ws失败： \" + JSON.stringify(frame));\n    },\n    responseCallback(frame) {\n      console.log(\"收到消息：\" + frame.body);\n      this.$store.commit(\"setMessageCount\", this.mesCount + 1);\n    },\n    selectNav(name) {\n      this.$store.commit(\"setCurrNav\", name);\n      this.setStore(\"currNav\", name);\n      // 清空所有已打开标签\n      // this.$store.commit(\"clearAllTags\");\n      if (this.$route.name != \"home_index\") {\n        this.$router.push({\n          name: \"home_index\"\n        });\n      }\n      util.initRouter(this);\n    },\n    toggleClick() {\n      this.shrink = !this.shrink;\n    },\n    handleLanDropdown(name) {\n      this.$i18n.locale = name;\n      this.$store.commit(\"switchLang\", name);\n    },\n    handleClickUserDropdown(name) {\n      if (name == \"ownSpace\") {\n        util.openNewPage(this, \"ownspace_index\");\n        this.$router.push({\n          name: \"ownspace_index\"\n        });\n      } else if (name == \"changePass\") {\n        util.openNewPage(this, \"change_pass\");\n        this.$router.push({\n          name: \"change_pass\"\n        });\n      } else if (name == \"loginout\") {\n        // 退出登录\n        this.$store.commit(\"setLoading\", true);\n        getOtherSet().then(res => {\n          this.$store.commit(\"setLoading\", false);\n          if (res.result) {\n            let domain = res.result.ssoDomain;\n            Cookies.set(\"accessToken\", \"\", {\n              domain: domain,\n              expires: 7\n            });\n          }\n          this.$store.commit(\"logout\", this);\n          this.$store.commit(\"clearOpenedSubmenu\");\n          this.setStore(\"accessToken\", \"\");\n          // 强制刷新页面 重新加载router\n          location.reload();\n        });\n      }\n    },\n    checkTag(name) {\n      let openpageHasTag = this.pageTagsList.some(item => {\n        if (item.name == name) {\n          return true;\n        }\n      });\n      if (!openpageHasTag) {\n        //  解决关闭当前标签后再点击回退按钮会退到当前页时没有标签的问题\n        util.openNewPage(\n          this,\n          name,\n          this.$route.params || {},\n          this.$route.query || {}\n        );\n      }\n    },\n    handleSubmenuChange(val) {\n      // console.log(val)\n    },\n    beforePush(name) {\n      // console.log(name)\n      return true;\n    },\n    fullscreenChange(isFullScreen) {\n      // console.log(isFullScreen);\n    },\n    resize() {\n      let currWidth = document.body.clientWidth;\n      if (currWidth <= 1200 && currWidth > 900) {\n        this.sliceNum = 2;\n        this.shrink = true;\n      } else if (currWidth <= 900) {\n        this.sliceNum = 1;\n        this.shrink = true;\n      } else {\n        this.sliceNum = 3;\n        this.shrink = false;\n      }\n    }\n  },\n  watch: {\n    $route(to) {\n      this.$store.commit(\"setCurrentPageName\", to.name);\n      let pathArr = util.setCurrentPath(this, to.name);\n      if (pathArr.length > 2) {\n        this.$store.commit(\"addOpenSubmenu\", pathArr[1].name);\n      }\n      this.checkTag(to.name);\n      localStorage.currentPageName = to.name;\n    },\n    lang() {\n      util.setCurrentPath(this, this.$route.name); // 在切换语言时用于刷新面包屑\n    }\n  },\n  mounted() {\n    this.init();\n    let that = this;\n    this.resize();\n    window.addEventListener(\"resize\", function() {\n      that.resize();\n    });\n  },\n  created() {\n    // 显示打开的页面的列表\n    this.$store.commit(\"setOpenedList\");\n  }\n};\n</script>\n"]}]}