{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/sys/setting-manage/settingManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/sys/setting-manage/settingManage.vue","mtime":1579165667211},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgc2VlU2VjcmV0U2V0LAogIGNoZWNrT3NzU2V0LAogIGdldE9zc1NldCwKICBlZGl0T3NzU2V0LAogIGdldFNtc1NldCwKICBlZGl0U21zU2V0LAogIGdldFNtc1RlbXBsYXRlQ29kZSwKICBnZXRFbWFpbFNldCwKICBlZGl0RW1haWxTZXQsCiAgZ2V0VmFwdGNoYVNldCwKICBlZGl0VmFwdGNoYVNldCwKICBnZXRPdGhlclNldCwKICBlZGl0T3RoZXJTZXQsCiAgZ2V0RGljdERhdGFCeVR5cGUKfSBmcm9tICJAL2FwaS9pbmRleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAic2V0dGluZy1tYW5hZ2UiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJOYW1lOiAib3NzIiwKICAgICAgbG9hZGluZzogZmFsc2UsIC8vIOihqOWNleWKoOi9veeKtuaAgQogICAgICBzYXZlTG9hZGluZzogZmFsc2UsCiAgICAgIG9zczogewogICAgICAgIHNlcnZpY2VOYW1lOiAiIiwKICAgICAgICBhY2Nlc3NLZXk6ICIiLAogICAgICAgIHNlY3JldEtleTogIiIsCiAgICAgICAgZW5kcG9pbnQ6ICIiLAogICAgICAgIGJ1Y2tldDogIiIKICAgICAgfSwKICAgICAgY2hhbmdlZE9zc1NLOiBmYWxzZSwgLy8g5piv5ZCm5L+u5pS5b3Nz55qEc2VjcmVjdEtleQogICAgICBzbXM6IHsKICAgICAgICBzZXJ2aWNlTmFtZTogIkFMSV9TTVMiLAogICAgICAgIGFjY2Vzc0tleTogIiIsCiAgICAgICAgc2VjcmV0S2V5OiAiIiwKICAgICAgICBzaWduTmFtZTogIiIsCiAgICAgICAgdHlwZTogIiIsCiAgICAgICAgdGVtcGxhdGVDb2RlOiAiIgogICAgICB9LAogICAgICBjaGFuZ2VkU21zU0s6IGZhbHNlLCAvLyDmmK/lkKbkv67mlLnnn63kv6HnmoRzZWNyZWN0S2V5CiAgICAgIGVtYWlsOiB7CiAgICAgICAgaG9zdDogIiIsCiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBjaGFuZ2VkRW1haWxQYXNzOiBmYWxzZSwgLy8g5piv5ZCm5L+u5pS56YKu5Lu25a+G56CBCiAgICAgIGVycm9yTXNnOiAiIiwKICAgICAgZXJyb3JNc2cyOiAiIiwKICAgICAgdmFwdGNoYTogewogICAgICAgIHZJRDogIiIsCiAgICAgICAgc2VjcmV0S2V5OiAiIgogICAgICB9LAogICAgICBjaGFuZ2VkVmFwdGNoYVNLOiBmYWxzZSwgLy8g5piv5ZCm5L+u5pS5VmFwdGNoYeeahHNlY3JlY3RLZXkKICAgICAgb3RoZXI6IHsKICAgICAgICBkb21haW46ICJodHRwOi8vMTI3LjAuMC4xOjg4ODgiLAogICAgICAgIHNzb0RvbWFpbjogIiIsCiAgICAgICAgYmxhY2tsaXN0OiAiIgogICAgICB9LAogICAgICBvc3NWYWxpZGF0ZTogewogICAgICAgIC8vIOihqOWNlemqjOivgeinhOWImQogICAgICAgIHNlcnZpY2VOYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqSIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICBhY2Nlc3NLZXk6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIHNlY3JldEtleTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgZW5kcG9pbnQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIGJ1Y2tldDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0KICAgICAgfSwKICAgICAgc21zVmFsaWRhdGU6IHsKICAgICAgICAvLyDooajljZXpqozor4Hop4TliJkKICAgICAgICBzZXJ2aWNlTmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6kiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgYWNjZXNzS2V5OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICBzZWNyZXRLZXk6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIHNpZ25OYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICB0eXBlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICB0ZW1wbGF0ZUNvZGU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dCiAgICAgIH0sCiAgICAgIGVtYWlsVmFsaWRhdGU6IHsKICAgICAgICAvLyDooajljZXpqozor4Hop4TliJkKICAgICAgICBob3N0OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICB1c2VybmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dCiAgICAgIH0sCiAgICAgIHZhcHRjaGFWYWxpZGF0ZTogewogICAgICAgIC8vIOihqOWNlemqjOivgeinhOWImQogICAgICAgIHZJRDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgc2VjcmV0S2V5OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9XQogICAgICB9LAogICAgICBvdGhlclZhbGlkYXRlOiB7CiAgICAgICAgLy8g6KGo5Y2V6aqM6K+B6KeE5YiZCiAgICAgICAgZG9tYWluOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9XQogICAgICB9LAogICAgICBlbmRwb2ludFBIOiAi6K+36L6T5YWl56m66Ze06K6/6Zeu5Z+f5ZCNIiwKICAgICAgZGljdEJ1Y2tldFJlZ2lvbnM6IFsKICAgICAgXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIHRoaXMuaW5pdE9zc1NldCgpOwogICAgICB0aGlzLmluaXRTbXNTZXQoKTsKICAgICAgdGhpcy5pbml0RW1haWxTZXQoKTsKICAgICAgdGhpcy5pbml0VmFwdGNoYVNldCgpOwogICAgICB0aGlzLmluaXRPdGhlclNldCgpOwogICAgICB0aGlzLmdldERpY3RCdWNrZXRSZWdpb25zKCk7CiAgICB9LAogICAgZ2V0RGljdEJ1Y2tldFJlZ2lvbnMoKSB7CiAgICAgIGdldERpY3REYXRhQnlUeXBlKCJ0ZW5jZW50X2J1Y2tldF9yZWdpb24iKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLmRpY3RCdWNrZXRSZWdpb25zID0gcmVzLnJlc3VsdDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRPc3NTZXQoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGNoZWNrT3NzU2V0KCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3VjY2VzcyAmJiByZXMucmVzdWx0KSB7CiAgICAgICAgICBsZXQgb3NzID0gcmVzLnJlc3VsdDsKICAgICAgICAgIGdldE9zc1NldChvc3MpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgICAgLy8g6L2s5o2ibnVsbOS4uiIiCiAgICAgICAgICAgICAgZm9yIChsZXQgYXR0ciBpbiByZXMucmVzdWx0KSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnJlc3VsdFthdHRyXSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHJlcy5yZXN1bHRbYXR0cl0gPSAiIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5vc3MgPSByZXMucmVzdWx0OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuY2hhbmdlZE9zc1NLID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5jaGFuZ2VkT3NzU0sgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlT3NzKHYpIHsKICAgICAgaWYgKHYgPT0gIkFMSV9PU1MiKSB7CiAgICAgICAgdGhpcy5lbmRwb2ludFBIID0gIuivt+i+k+WFpUVuZFBvaW50KOWcsOWfn+iKgueCuSkg6Z2eQnVja2V05Z+f5ZCNIjsKICAgICAgfSBlbHNlIGlmICh2ID09ICJURU5DRU5UX09TUyIpIHsKICAgICAgICB0aGlzLmVuZHBvaW50UEggPQogICAgICAgICAgIuivt+i+k+WFpeWujOaVtOivt+axguWfn+WQjSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbmRwb2ludFBIID0gIuivt+i+k+WFpeepuumXtOiuv+mXruWfn+WQjSI7CiAgICAgIH0KICAgICAgZ2V0T3NzU2V0KHYpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgLy8g6L2s5o2ibnVsbOS4uiIiCiAgICAgICAgICBmb3IgKGxldCBhdHRyIGluIHJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHRbYXR0cl0gPT0gbnVsbCkgewogICAgICAgICAgICAgIHJlcy5yZXN1bHRbYXR0cl0gPSAiIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5vc3MgPSByZXMucmVzdWx0OwogICAgICAgICAgdGhpcy5jaGFuZ2VkT3NzU0sgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5vc3MgPSB7IHNlcnZpY2VOYW1lOiB2IH07CiAgICAgICAgICBpZiAodGhpcy5vc3Muc2VydmljZU5hbWUgPT0gIkxPQ0FMX09TUyIpIHsKICAgICAgICAgICAgdGhpcy5vc3MuaHR0cCA9ICJodHRwOi8vIjsKICAgICAgICAgICAgdGhpcy5vc3MuZW5kcG9pbnQgPSAiMTI3LjAuMC4xOjk5OTkvc2hhcmUvZmlsZS92aWV3IjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuY2hhbmdlZE9zc1NLID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRTbXNTZXQoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGdldFNtc1NldCh0aGlzLnNtcy5zZXJ2aWNlTmFtZSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAvLyDovazmjaJudWxs5Li6IiIKICAgICAgICAgIGZvciAobGV0IGF0dHIgaW4gcmVzLnJlc3VsdCkgewogICAgICAgICAgICBpZiAocmVzLnJlc3VsdFthdHRyXSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgcmVzLnJlc3VsdFthdHRyXSA9ICIiOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNtcyA9IHJlcy5yZXN1bHQ7CiAgICAgICAgICB0aGlzLnNtcy50eXBlID0gIjAiOwogICAgICAgICAgdGhpcy5jaGFuZ2VTbXNUeXBlKHRoaXMuc21zLnR5cGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNoYW5nZWRTbXNTSyA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VTbXNUeXBlKHYpIHsKICAgICAgZ2V0U21zVGVtcGxhdGVDb2RlKHYpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuc21zLnRlbXBsYXRlQ29kZSA9IHJlcy5yZXN1bHQ7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBpbml0RW1haWxTZXQoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGdldEVtYWlsU2V0KCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAvLyDovazmjaJudWxs5Li6IiIKICAgICAgICAgIGZvciAobGV0IGF0dHIgaW4gcmVzLnJlc3VsdCkgewogICAgICAgICAgICBpZiAocmVzLnJlc3VsdFthdHRyXSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgcmVzLnJlc3VsdFthdHRyXSA9ICIiOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmVtYWlsID0gcmVzLnJlc3VsdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jaGFuZ2VkRW1haWxQYXNzID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRWYXB0Y2hhU2V0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRWYXB0Y2hhU2V0KCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAvLyDovazmjaJudWxs5Li6IiIKICAgICAgICAgIGZvciAobGV0IGF0dHIgaW4gcmVzLnJlc3VsdCkgewogICAgICAgICAgICBpZiAocmVzLnJlc3VsdFthdHRyXSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgcmVzLnJlc3VsdFthdHRyXSA9ICIiOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnZhcHRjaGEgPSByZXMucmVzdWx0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNoYW5nZWRWYXB0Y2hhU0sgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaW5pdE90aGVyU2V0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRPdGhlclNldCgpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgLy8g6L2s5o2ibnVsbOS4uiIiCiAgICAgICAgICBmb3IgKGxldCBhdHRyIGluIHJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHRbYXR0cl0gPT0gbnVsbCkgewogICAgICAgICAgICAgIHJlcy5yZXN1bHRbYXR0cl0gPSAiIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5vdGhlciA9IHJlcy5yZXN1bHQ7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZWVTZWNyZXQobmFtZSkgewogICAgICBpZiAoIW5hbWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgc2VlU2VjcmV0U2V0KG5hbWUpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIGlmICh0aGlzLnRhYk5hbWUgPT0gIm9zcyIpIHsKICAgICAgICAgICAgdGhpcy5vc3Muc2VjcmV0S2V5ID0gcmVzLnJlc3VsdDsKICAgICAgICAgICAgdGhpcy5jaGFuZ2VkT3NzU0sgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYk5hbWUgPT0gInNtcyIpIHsKICAgICAgICAgICAgdGhpcy5zbXMuc2VjcmV0S2V5ID0gcmVzLnJlc3VsdDsKICAgICAgICAgICAgdGhpcy5jaGFuZ2VkU21zU0sgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYk5hbWUgPT0gImVtYWlsIikgewogICAgICAgICAgICB0aGlzLmVtYWlsLnBhc3N3b3JkID0gcmVzLnJlc3VsdDsKICAgICAgICAgICAgdGhpcy5jaGFuZ2VkRW1haWxQYXNzID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50YWJOYW1lID09ICJ2YXB0Y2hhIikgewogICAgICAgICAgICB0aGlzLnZhcHRjaGEuc2VjcmV0S2V5ID0gcmVzLnJlc3VsdDsKICAgICAgICAgICAgdGhpcy5jaGFuZ2VkVmFwdGNoYVNLID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVFZGl0T3NzKCkgewogICAgICBpZiAodGhpcy5vc3Muc2VydmljZU5hbWUgPT0gIkxPQ0FMX09TUyIpIHsKICAgICAgICBpZiAoIXRoaXMub3NzLmh0dHApIHsKICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSAi6K+36YCJ5oupaHR0cOWNj+iuriI7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiIjsKICAgICAgICB9CiAgICAgICAgaWYgKCF0aGlzLm9zcy5lbmRwb2ludCkgewogICAgICAgICAgdGhpcy5lcnJvck1zZyA9ICLor7fovpPlhaXmlofku7bpooTop4jmjqXlj6MiOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9yTXNnID0gIiI7CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5vc3MuZmlsZVBhdGgpIHsKICAgICAgICAgIHRoaXMuZXJyb3JNc2cyID0gIuivt+i+k+WFpeWtmOWCqOejgeebmOi3r+W+hCI7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZXJyb3JNc2cyID0gIiI7CiAgICAgICAgfQogICAgICAgIGVkaXRPc3NTZXQodGhpcy5vc3MpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuc2F2ZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuS/neWtmOaIkOWKnyIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMub3NzRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLm9zcy5odHRwKSB7CiAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZyA9ICLor7fpgInmi6lodHRw5Y2P6K6uIjsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZyA9ICIiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc2F2ZUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICB0aGlzLm9zcy5jaGFuZ2VkID0gdGhpcy5jaGFuZ2VkT3NzU0s7CiAgICAgICAgICAgIGVkaXRPc3NTZXQodGhpcy5vc3MpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLnNhdmVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuS/neWtmOaIkOWKnyIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzYXZlRWRpdFNtcygpIHsKICAgICAgdGhpcy4kcmVmcy5zbXNGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuc2F2ZUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgdGhpcy5zbXMuY2hhbmdlZCA9IHRoaXMuY2hhbmdlZFNtc1NLOwogICAgICAgICAgZWRpdFNtc1NldCh0aGlzLnNtcykudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLnNhdmVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5L+d5a2Y5oiQ5YqfIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2F2ZUVkaXRFbWFpbCgpIHsKICAgICAgdGhpcy4kcmVmcy5lbWFpbEZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5zYXZlTG9hZGluZyA9IHRydWU7CiAgICAgICAgICB0aGlzLmVtYWlsLmNoYW5nZWQgPSB0aGlzLmNoYW5nZWRFbWFpbFBhc3M7CiAgICAgICAgICBlZGl0RW1haWxTZXQodGhpcy5lbWFpbCkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLnNhdmVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5L+d5a2Y5oiQ5YqfIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2F2ZUVkaXRWYXB0Y2hhKCkgewogICAgICB0aGlzLiRyZWZzLnZhcHRjaGFGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuc2F2ZUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgdGhpcy52YXB0Y2hhLmNoYW5nZWQgPSB0aGlzLmNoYW5nZWRWYXB0Y2hhU0s7CiAgICAgICAgICBlZGl0VmFwdGNoYVNldCh0aGlzLnZhcHRjaGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuS/neWtmOaIkOWKnyIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVFZGl0T3RoZXIoKSB7CiAgICAgIHRoaXMuJHJlZnMub3RoZXJGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuc2F2ZUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgZWRpdE90aGVyU2V0KHRoaXMub3RoZXIpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuS/neWtmOaIkOWKnyIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGxldCBuYW1lID0gdGhpcy4kcm91dGUucXVlcnkubmFtZTsKICAgIGlmIChuYW1lKSB7CiAgICAgIHRoaXMudGFiTmFtZSA9IG5hbWU7CiAgICB9CiAgICB0aGlzLmluaXQoKTsKICB9Cn07Cg=="},{"version":3,"sources":["settingManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"settingManage.vue","sourceRoot":"src/views/sys/setting-manage","sourcesContent":["<style lang=\"less\">\n@import \"./settingManage.less\";\n</style>\n<template>\n  <div>\n    <Card>\n      <Tabs v-model=\"tabName\" :animated=\"false\" style=\"overflow: visible\">\n        <TabPane label=\"文件对象存储配置\" name=\"oss\">\n          <div style=\"display:flex;position:relative\">\n          <Form\n            ref=\"ossForm\"\n            :model=\"oss\"\n            :label-width=\"110\"\n            label-position=\"right\"\n            :rules=\"ossValidate\"\n            >\n            <FormItem label=\"服务提供商\" prop=\"serviceName\">\n              <Select v-model=\"oss.serviceName\" @on-change=\"changeOss\" placeholder=\"请选择\" style=\"width: 200px\">\n                <Option value=\"LOCAL_OSS\">本地服务器</Option>\n                <Option value=\"MINIO_OSS\">MinIO</Option>\n                <Option value=\"QINIU_OSS\">七牛云</Option>\n                <Option value=\"ALI_OSS\">阿里云</Option>\n                <Option value=\"TENCENT_OSS\">腾讯云</Option>\n              </Select>\n            </FormItem>\n            <div v-if=\"oss.serviceName!='LOCAL_OSS'\">\n              <FormItem label=\"accessKey\" prop=\"accessKey\">\n                <Input type=\"text\" v-model=\"oss.accessKey\" placeholder=\"请输入accessKey\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem label=\"secretKey\" prop=\"secretKey\">\n                <Tooltip placement=\"right\" content=\"无法编辑时请先点击查看图标\">\n                  <Input class=\"input-see\" type=\"text\" v-model=\"oss.secretKey\" :readonly=\"!changedOssSK\" @on-click=\"seeSecret(oss.serviceName)\" icon=\"ios-eye\" placeholder=\"请输入secretKey\" style=\"width: 350px\"/>\n                </Tooltip>\n              </FormItem>\n              <FormItem v-if=\"oss.serviceName=='QINIU_OSS'\" label=\"zone存储区域\" prop=\"zone\">\n                <Select v-model=\"oss.zone\" placeholder=\"请选择存储区域\" style=\"width: 350px\">\n                  <Option :value=\"-1\">自动判断</Option>\n                  <Option :value=\"0\">华东</Option>\n                  <Option :value=\"1\">华北</Option>\n                  <Option :value=\"2\">华南</Option>\n                  <Option :value=\"3\">北美</Option>\n                  <Option :value=\"4\">东南亚</Option>\n                </Select>\n              </FormItem>\n              <FormItem label=\"bucket空间\" prop=\"bucket\">\n                <Input type=\"text\" v-model=\"oss.bucket\" placeholder=\"请输入bucket空间名\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem v-if=\"oss.serviceName=='TENCENT_OSS'\" label=\"所属地域\" prop=\"bucketRegion\">\n                <Select v-model=\"oss.bucketRegion\" placeholder=\"请选择或输入搜索\" style=\"width: 350px\" filterable>\n                  <Option v-for=\"(item, i) in dictBucketRegions\" :key=\"i\" :value=\"item.value\">{{item.title}}</Option>\n                </Select>\n              </FormItem>\n              <FormItem label=\"endpoint域名\" prop=\"endpoint\" :error=\"errorMsg\">\n                <Input type=\"text\" v-model=\"oss.endpoint\" :placeholder=\"endpointPH\" style=\"width: 350px\">\n                  <Select v-model=\"oss.http\" slot=\"prepend\" style=\"width: 80px\" prop=\"http\">\n                    <Option value=\"http://\">http://</Option>\n                    <Option value=\"https://\">https://</Option>\n                  </Select>\n                </Input>\n              </FormItem>\n            </div>\n            <div v-else>\n              <FormItem label=\"存储磁盘路径\" prop=\"filePath\" :error=\"errorMsg2\">\n                <Input type=\"text\" v-model=\"oss.filePath\" placeholder=\"例如D:/upload\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem label=\"文件预览接口\" prop=\"endpoint\" :error=\"errorMsg\">\n                <Input type=\"text\" v-model=\"oss.endpoint\" placeholder=\"请输入文件预览接口\" style=\"width: 350px\">\n                  <Select v-model=\"oss.http\" slot=\"prepend\" style=\"width: 80px\" prop=\"http\">\n                    <Option value=\"http://\">http://</Option>\n                    <Option value=\"https://\">https://</Option>\n                  </Select>\n                </Input>\n              </FormItem>\n            </div>\n            <FormItem>\n              <Button type=\"primary\" style=\"width: 100px;margin-right:5px\" :loading=\"saveLoading\" @click=\"saveEditOss\">保存并启用</Button>\n            </FormItem>\n           </Form>\n           <Spin fix v-if=\"loading\"></Spin>\n          </div>\n        </TabPane>\n        <TabPane label=\"短信配置\" name=\"sms\">\n          <div style=\"display:flex;position:relative\">\n            <Form\n              ref=\"smsForm\"\n              :model=\"sms\"\n              :label-width=\"110\"\n              label-position=\"right\"\n              :rules=\"smsValidate\"\n              >\n              <FormItem label=\"服务提供商\" prop=\"serviceName\">\n                <Select v-model=\"sms.serviceName\" placeholder=\"请选择\" style=\"width: 200px\">\n                  <Option value=\"ALI_SMS\">阿里云</Option>\n                </Select>\n              </FormItem>\n              <FormItem label=\"accessKey\" prop=\"accessKey\">\n                <Input type=\"text\" v-model=\"sms.accessKey\" placeholder=\"请输入\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem label=\"secretKey\" prop=\"secretKey\">\n                <Tooltip placement=\"right\" content=\"无法编辑时请先点击查看图标\">\n                    <Input class=\"input-see\" type=\"text\" v-model=\"sms.secretKey\" :readonly=\"!changedSmsSK\" @on-click=\"seeSecret(sms.serviceName)\" icon=\"ios-eye\" placeholder=\"请输入\" style=\"width: 350px\"/>\n                </Tooltip>\n              </FormItem>\n              <FormItem label=\"短信签名\" prop=\"signName\">\n                <Input type=\"text\" v-model=\"sms.signName\" placeholder=\"请输入短信签名，例如XBoot\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem label=\"使用场景\" prop=\"type\">\n                <Select v-model=\"sms.type\" @on-change=\"changeSmsType\" placeholder=\"请选择\" style=\"width: 350px\">\n                  <Option value=\"0\">通用验证码</Option>\n                  <Option value=\"1\">注册</Option>\n                  <Option value=\"2\">登录</Option>\n                  <Option value=\"3\">修改绑定手机号</Option>\n                  <Option value=\"4\">修改密码</Option>\n                  <Option value=\"5\">重置密码</Option>\n                  <Option value=\"6\">工作流消息</Option>\n                </Select>\n              </FormItem>\n              <FormItem label=\"模版CODE\" prop=\"templateCode\">\n                <Input type=\"text\" v-model=\"sms.templateCode\" placeholder=\"请输入场景对应短信模版CODE，例如SMS_123456789\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem>\n                <Button type=\"primary\" style=\"width: 100px;margin-right:5px\" :loading=\"saveLoading\" @click=\"saveEditSms\">保存更改</Button>\n              </FormItem>\n            </Form>\n            <Spin fix v-if=\"loading\"></Spin>\n          </div>\n        </TabPane>\n        <TabPane label=\"邮件配置\" name=\"email\">\n          <div style=\"display:flex;position:relative\">\n            <Form\n              ref=\"emailForm\"\n              :model=\"email\"\n              :label-width=\"110\"\n              label-position=\"right\"\n              :rules=\"emailValidate\"\n              >\n              <FormItem label=\"邮箱服务器\" prop=\"host\">\n                <Input type=\"text\" v-model=\"email.host\" placeholder=\"请输入邮箱服务器Host，例如QQ邮箱为smtp.qq.com\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem label=\"发送邮箱账号\" prop=\"username\">\n                <Input type=\"text\" v-model=\"email.username\" placeholder=\"请输入发送者Email账号\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem label=\"邮箱授权码\" prop=\"password\">\n                <Tooltip placement=\"right\" content=\"无法编辑时请先点击查看图标\">\n                    <Input class=\"input-see\" type=\"text\" v-model=\"email.password\" :readonly=\"!changedEmailPass\" @on-click=\"seeSecret('EMAIL_SETTING')\" icon=\"ios-eye\" placeholder=\"请输入邮箱授权码，进入邮箱-设置中可找到\" style=\"width: 350px\"/>\n                </Tooltip>\n              </FormItem>\n              <FormItem>\n                <Button type=\"primary\" style=\"width: 100px;margin-right:5px\" :loading=\"saveLoading\" @click=\"saveEditEmail\">保存更改</Button>\n              </FormItem>\n            </Form>\n            </Form>\n            <Spin fix v-if=\"loading\"></Spin>\n          </div>\n        </TabPane>\n        <TabPane label=\"Vaptcha验证码\" name=\"vaptcha\">\n          <div style=\"display:flex;position:relative\">\n            <Form\n              ref=\"vaptchaForm\"\n              :model=\"vaptcha\"\n              :label-width=\"110\"\n              label-position=\"right\"\n              :rules=\"vaptchaValidate\"\n              >\n              <FormItem label=\"VID\" prop=\"vid\">\n                <Input type=\"text\" v-model=\"vaptcha.vid\" placeholder=\"请输入验证单元VID\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem label=\"secretKey\" prop=\"secretKey\">\n                <Tooltip placement=\"right\" content=\"无法编辑时请先点击查看图标\">\n                    <Input class=\"input-see\" type=\"text\" v-model=\"vaptcha.secretKey\" :readonly=\"!changedVaptchaSK\" @on-click=\"seeSecret('VAPTCHA_SETTING')\" icon=\"ios-eye\" placeholder=\"请输入验证单元Key\" style=\"width: 350px\"/>\n                </Tooltip>\n              </FormItem>\n              <FormItem>\n                <Button type=\"primary\" style=\"width: 100px;margin-right:5px\" :loading=\"saveLoading\" @click=\"saveEditVaptcha\">保存更改</Button>\n              </FormItem>\n            </Form>\n            <Spin fix v-if=\"loading\"></Spin>\n          </div>\n        </TabPane>\n        <TabPane label=\"其他配置\" name=\"other\">\n          <div style=\"display:flex;\">\n            <Form\n              ref=\"otherForm\"\n              :model=\"other\"\n              :label-width=\"110\"\n              label-position=\"right\"\n              :rules=\"otherValidate\"\n              >\n              <FormItem label=\"应用部署域名\" prop=\"domain\">\n                <Tooltip placement=\"right\" content=\"拼接部分资源访问链接使用\">\n                  <Input type=\"text\" v-model=\"other.domain\" placeholder=\"请输入应用部署域名前缀，如http://share.daiv.cn\" style=\"width: 350px\"/>\n                </Tooltip>\n              </FormItem>\n              <FormItem label=\"单点登录域名\" prop=\"ssoDomain\">\n                <Tooltip max-width=\"250\" transfer placement=\"right\" content=\"该域名及子域名下将可获得单点登录所需数据\">\n                  <Input type=\"text\" v-model=\"other.ssoDomain\" placeholder=\"请输入应用部署一级域名，如daiv.cn\" style=\"width: 350px\"/>\n                </Tooltip>\n              </FormItem>\n              <FormItem label=\"IP黑名单\" prop=\"blacklist\">\n                <Input type=\"textarea\" v-model=\"other.blacklist\" :rows=\"4\" placeholder=\"多个以回车分隔\" style=\"width: 350px\"/>\n              </FormItem>\n              <FormItem>\n                <Button type=\"primary\" style=\"width: 100px;margin-right:5px\" :loading=\"saveLoading\" @click=\"saveEditOther\">保存更改</Button>\n              </FormItem>\n            </Form>\n            <Spin fix v-if=\"loading\"></Spin>\n          </div>\n        </TabPane>\n      </Tabs>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport {\n  seeSecretSet,\n  checkOssSet,\n  getOssSet,\n  editOssSet,\n  getSmsSet,\n  editSmsSet,\n  getSmsTemplateCode,\n  getEmailSet,\n  editEmailSet,\n  getVaptchaSet,\n  editVaptchaSet,\n  getOtherSet,\n  editOtherSet,\n  getDictDataByType\n} from \"@/api/index\";\nexport default {\n  name: \"setting-manage\",\n  data() {\n    return {\n      tabName: \"oss\",\n      loading: false, // 表单加载状态\n      saveLoading: false,\n      oss: {\n        serviceName: \"\",\n        accessKey: \"\",\n        secretKey: \"\",\n        endpoint: \"\",\n        bucket: \"\"\n      },\n      changedOssSK: false, // 是否修改oss的secrectKey\n      sms: {\n        serviceName: \"ALI_SMS\",\n        accessKey: \"\",\n        secretKey: \"\",\n        signName: \"\",\n        type: \"\",\n        templateCode: \"\"\n      },\n      changedSmsSK: false, // 是否修改短信的secrectKey\n      email: {\n        host: \"\",\n        username: \"\",\n        password: \"\"\n      },\n      changedEmailPass: false, // 是否修改邮件密码\n      errorMsg: \"\",\n      errorMsg2: \"\",\n      vaptcha: {\n        vID: \"\",\n        secretKey: \"\"\n      },\n      changedVaptchaSK: false, // 是否修改Vaptcha的secrectKey\n      other: {\n        domain: \"http://127.0.0.1:8888\",\n        ssoDomain: \"\",\n        blacklist: \"\"\n      },\n      ossValidate: {\n        // 表单验证规则\n        serviceName: [{ required: true, message: \"请选择\", trigger: \"blur\" }],\n        accessKey: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        secretKey: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        endpoint: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        bucket: [{ required: true, message: \"不能为空\", trigger: \"blur\" }]\n      },\n      smsValidate: {\n        // 表单验证规则\n        serviceName: [{ required: true, message: \"请选择\", trigger: \"blur\" }],\n        accessKey: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        secretKey: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        signName: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        type: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        templateCode: [{ required: true, message: \"不能为空\", trigger: \"blur\" }]\n      },\n      emailValidate: {\n        // 表单验证规则\n        host: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        username: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        password: [{ required: true, message: \"不能为空\", trigger: \"blur\" }]\n      },\n      vaptchaValidate: {\n        // 表单验证规则\n        vID: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\n        secretKey: [{ required: true, message: \"不能为空\", trigger: \"blur\" }]\n      },\n      otherValidate: {\n        // 表单验证规则\n        domain: [{ required: true, message: \"不能为空\", trigger: \"blur\" }]\n      },\n      endpointPH: \"请输入空间访问域名\",\n      dictBucketRegions: [\n      ]\n    };\n  },\n  methods: {\n    init() {\n      this.initOssSet();\n      this.initSmsSet();\n      this.initEmailSet();\n      this.initVaptchaSet();\n      this.initOtherSet();\n      this.getDictBucketRegions();\n    },\n    getDictBucketRegions() {\n      getDictDataByType(\"tencent_bucket_region\").then(res => {\n        if (res.success) {\n          this.dictBucketRegions = res.result;\n        }\n      });\n    },\n    initOssSet() {\n      this.loading = true;\n      checkOssSet().then(res => {\n        if (res.success && res.result) {\n          let oss = res.result;\n          getOssSet(oss).then(res => {\n            this.loading = false;\n            if (res.result) {\n              // 转换null为\"\"\n              for (let attr in res.result) {\n                if (res.result[attr] == null) {\n                  res.result[attr] = \"\";\n                }\n              }\n              this.oss = res.result;\n            } else {\n              this.changedOssSK = true;\n            }\n          });\n        } else {\n          this.loading = false;\n          this.changedOssSK = true;\n        }\n      });\n    },\n    changeOss(v) {\n      if (v == \"ALI_OSS\") {\n        this.endpointPH = \"请输入EndPoint(地域节点) 非Bucket域名\";\n      } else if (v == \"TENCENT_OSS\") {\n        this.endpointPH =\n          \"请输入完整请求域名\";\n      } else {\n        this.endpointPH = \"请输入空间访问域名\";\n      }\n      getOssSet(v).then(res => {\n        if (res.result) {\n          // 转换null为\"\"\n          for (let attr in res.result) {\n            if (res.result[attr] == null) {\n              res.result[attr] = \"\";\n            }\n          }\n          this.oss = res.result;\n          this.changedOssSK = false;\n        } else {\n          this.oss = { serviceName: v };\n          if (this.oss.serviceName == \"LOCAL_OSS\") {\n            this.oss.http = \"http://\";\n            this.oss.endpoint = \"127.0.0.1:9999/share/file/view\";\n          }\n          this.changedOssSK = true;\n        }\n      });\n    },\n    initSmsSet() {\n      this.loading = true;\n      getSmsSet(this.sms.serviceName).then(res => {\n        this.loading = false;\n        if (res.result) {\n          // 转换null为\"\"\n          for (let attr in res.result) {\n            if (res.result[attr] == null) {\n              res.result[attr] = \"\";\n            }\n          }\n          this.sms = res.result;\n          this.sms.type = \"0\";\n          this.changeSmsType(this.sms.type);\n        } else {\n          this.changedSmsSK = true;\n        }\n      });\n    },\n    changeSmsType(v) {\n      getSmsTemplateCode(v).then(res => {\n        if (res.success) {\n          this.sms.templateCode = res.result;\n        }\n      });\n    },\n    initEmailSet() {\n      this.loading = true;\n      getEmailSet().then(res => {\n        this.loading = false;\n        if (res.result) {\n          // 转换null为\"\"\n          for (let attr in res.result) {\n            if (res.result[attr] == null) {\n              res.result[attr] = \"\";\n            }\n          }\n          this.email = res.result;\n        } else {\n          this.changedEmailPass = true;\n        }\n      });\n    },\n    initVaptchaSet() {\n      this.loading = true;\n      getVaptchaSet().then(res => {\n        this.loading = false;\n        if (res.result) {\n          // 转换null为\"\"\n          for (let attr in res.result) {\n            if (res.result[attr] == null) {\n              res.result[attr] = \"\";\n            }\n          }\n          this.vaptcha = res.result;\n        } else {\n          this.changedVaptchaSK = true;\n        }\n      });\n    },\n    initOtherSet() {\n      this.loading = true;\n      getOtherSet().then(res => {\n        this.loading = false;\n        if (res.result) {\n          // 转换null为\"\"\n          for (let attr in res.result) {\n            if (res.result[attr] == null) {\n              res.result[attr] = \"\";\n            }\n          }\n          this.other = res.result;\n        }\n      });\n    },\n    seeSecret(name) {\n      if (!name) {\n        return;\n      }\n      seeSecretSet(name).then(res => {\n        if (res.success) {\n          if (this.tabName == \"oss\") {\n            this.oss.secretKey = res.result;\n            this.changedOssSK = true;\n          } else if (this.tabName == \"sms\") {\n            this.sms.secretKey = res.result;\n            this.changedSmsSK = true;\n          } else if (this.tabName == \"email\") {\n            this.email.password = res.result;\n            this.changedEmailPass = true;\n          } else if (this.tabName == \"vaptcha\") {\n            this.vaptcha.secretKey = res.result;\n            this.changedVaptchaSK = true;\n          }\n        }\n      });\n    },\n    saveEditOss() {\n      if (this.oss.serviceName == \"LOCAL_OSS\") {\n        if (!this.oss.http) {\n          this.errorMsg = \"请选择http协议\";\n          return;\n        } else {\n          this.errorMsg = \"\";\n        }\n        if (!this.oss.endpoint) {\n          this.errorMsg = \"请输入文件预览接口\";\n          return;\n        } else {\n          this.errorMsg = \"\";\n        }\n        if (!this.oss.filePath) {\n          this.errorMsg2 = \"请输入存储磁盘路径\";\n          return;\n        } else {\n          this.errorMsg2 = \"\";\n        }\n        editOssSet(this.oss).then(res => {\n          this.saveLoading = false;\n          if (res.success) {\n            this.$Message.success(\"保存成功\");\n          }\n        });\n      } else {\n        this.$refs.ossForm.validate(valid => {\n          if (valid) {\n            if (!this.oss.http) {\n              this.errorMsg = \"请选择http协议\";\n              return;\n            } else {\n              this.errorMsg = \"\";\n            }\n            this.saveLoading = true;\n            this.oss.changed = this.changedOssSK;\n            editOssSet(this.oss).then(res => {\n              this.saveLoading = false;\n              if (res.success) {\n                this.$Message.success(\"保存成功\");\n              }\n            });\n          }\n        });\n      }\n    },\n    saveEditSms() {\n      this.$refs.smsForm.validate(valid => {\n        if (valid) {\n          this.saveLoading = true;\n          this.sms.changed = this.changedSmsSK;\n          editSmsSet(this.sms).then(res => {\n            this.saveLoading = false;\n            if (res.success) {\n              this.$Message.success(\"保存成功\");\n            }\n          });\n        }\n      });\n    },\n    saveEditEmail() {\n      this.$refs.emailForm.validate(valid => {\n        if (valid) {\n          this.saveLoading = true;\n          this.email.changed = this.changedEmailPass;\n          editEmailSet(this.email).then(res => {\n            this.saveLoading = false;\n            if (res.success) {\n              this.$Message.success(\"保存成功\");\n            }\n          });\n        }\n      });\n    },\n    saveEditVaptcha() {\n      this.$refs.vaptchaForm.validate(valid => {\n        if (valid) {\n          this.saveLoading = true;\n          this.vaptcha.changed = this.changedVaptchaSK;\n          editVaptchaSet(this.vaptcha).then(res => {\n            this.saveLoading = false;\n            if (res.success) {\n              this.$Message.success(\"保存成功\");\n            }\n          });\n        }\n      });\n    },\n    saveEditOther() {\n      this.$refs.otherForm.validate(valid => {\n        if (valid) {\n          this.saveLoading = true;\n          editOtherSet(this.other).then(res => {\n            this.saveLoading = false;\n            if (res.success) {\n              this.$Message.success(\"保存成功\");\n            }\n          });\n        }\n      });\n    }\n  },\n  mounted() {\n    let name = this.$route.query.name;\n    if (name) {\n      this.tabName = name;\n    }\n    this.init();\n  }\n};\n</script>\n"]}]}