{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/login.vue","mtime":1579164402646},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbG9naW4sCiAgdXNlckluZm8sCiAgZ2l0aHViTG9naW4sCiAgcXFMb2dpbiwKICB3ZWlib0xvZ2luLAogIHdlY2hhdExvZ2luLAogIGdldEpXVCwKICBzZW5kTG9naW5TbXMsCiAgc21zTG9naW4sCiAgaW5pdENhcHRjaGEsCiAgZHJhd0NvZGVJbWFnZSwKICBnZXRPdGhlclNldAp9IGZyb20gIkAvYXBpL2luZGV4IjsKaW1wb3J0IHsgdmFsaWRhdGVNb2JpbGUgfSBmcm9tICJAL2xpYnMvdmFsaWRhdGUiOwppbXBvcnQgQ29va2llcyBmcm9tICJqcy1jb29raWUiOwppbXBvcnQgSGVhZGVyIGZyb20gIkAvdmlld3MvbWFpbi1jb21wb25lbnRzL2hlYWRlciI7CmltcG9ydCBGb290ZXIgZnJvbSAiQC92aWV3cy9tYWluLWNvbXBvbmVudHMvZm9vdGVyIjsKaW1wb3J0IExhbmdTd2l0Y2ggZnJvbSAiQC92aWV3cy9tYWluLWNvbXBvbmVudHMvbGFuZy1zd2l0Y2giOwppbXBvcnQgUmVjdExvYWRpbmcgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3NoYXJlL3JlY3QtbG9hZGluZyI7CmltcG9ydCBDb3VudERvd25CdXR0b24gZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3NoYXJlL2NvdW50LWRvd24tYnV0dG9uIjsKaW1wb3J0IHV0aWwgZnJvbSAiQC9saWJzL3V0aWwuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ291bnREb3duQnV0dG9uLAogICAgUmVjdExvYWRpbmcsCiAgICBMYW5nU3dpdGNoLAogICAgSGVhZGVyLAogICAgRm9vdGVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FwdGNoYUlkOiAiIiwKICAgICAgY2FwdGNoYUltZzogIiIsCiAgICAgIGxvYWRpbmdDYXB0Y2hhOiB0cnVlLAogICAgICBzb2NpYWxMb2dpbmluZzogdHJ1ZSwKICAgICAgZXJyb3I6IGZhbHNlLAogICAgICB0YWJOYW1lOiAidXNlcm5hbWUiLAogICAgICBzYXZlTG9naW46IHRydWUsCiAgICAgIGdldFNtczogIuiOt+WPlumqjOivgeeggSIsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzZW5kaW5nOiBmYWxzZSwKICAgICAgZXJyb3JDb2RlOiAiIiwKICAgICAgZm9ybTogewogICAgICAgIHVzZXJuYW1lOiAidGVzdOaIlnRlc3QyIOWPr+azqOWGjCDmlK/mjIHnrKzkuInmlrnotKblj7fnmbvlvZUiLAogICAgICAgIHBhc3N3b3JkOiAiMTIzNDU2IiwKICAgICAgICBtb2JpbGU6ICLpmL/ph4zkupHnn63kv6EwLjA0NS/mnaEg6Iul5L2Z6aKd5LiN6Laz6IGU57O75L2c6ICF5YWF5YC8IiwKICAgICAgICBjb2RlOiAiIgogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi6LSm5Y+35LiN6IO95Li656m6IiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIuWvhueggeS4jeiDveS4uuepuiIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgaW1nQ29kZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIumqjOivgeeggeS4jeiDveS4uuepuiIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgbW9iaWxlOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi5omL5py65Y+35LiN6IO95Li656m6IiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlTW9iaWxlLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDYXB0Y2hhSW1nKCkgewogICAgICB0aGlzLmxvYWRpbmdDYXB0Y2hhID0gdHJ1ZTsKICAgICAgaW5pdENhcHRjaGEoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nQ2FwdGNoYSA9IGZhbHNlOwogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgdGhpcy5jYXB0Y2hhSWQgPSByZXMucmVzdWx0OwogICAgICAgICAgdGhpcy5jYXB0Y2hhSW1nID0gZHJhd0NvZGVJbWFnZSArIHRoaXMuY2FwdGNoYUlkOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VuZFNtc0NvZGUoKSB7CiAgICAgIHRoaXMuJHJlZnMubW9iaWxlTG9naW5Gb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuc2VuZGluZyA9IHRydWU7CiAgICAgICAgICB0aGlzLmdldFNtcyA9ICLlj5HpgIHkuK0iOwogICAgICAgICAgc2VuZExvZ2luU21zKHRoaXMuZm9ybS5tb2JpbGUpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5nZXRTbXMgPSAi6I635Y+W6aqM6K+B56CBIjsKICAgICAgICAgICAgdGhpcy5zZW5kaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5Y+R6YCB55+t5L+h6aqM6K+B56CB5oiQ5YqfIik7CiAgICAgICAgICAgICAgLy8g5byA5aeL5YCS6K6h5pe2CiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5jb3VudERvd24uc3RhcnRDb3VudERvd24oKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZnRlckxvZ2luKHJlcykgewogICAgICBsZXQgYWNjZXNzVG9rZW4gPSByZXMucmVzdWx0OwogICAgICB0aGlzLnNldFN0b3JlKCJhY2Nlc3NUb2tlbiIsIGFjY2Vzc1Rva2VuKTsKICAgICAgZ2V0T3RoZXJTZXQoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAgICAgICAgIGxldCBkb21haW4gPSByZXMucmVzdWx0LnNzb0RvbWFpbjsKICAgICAgICAgIENvb2tpZXMuc2V0KCJhY2Nlc3NUb2tlbiIsIGFjY2Vzc1Rva2VuLCB7CiAgICAgICAgICAgIGRvbWFpbjogZG9tYWluLAogICAgICAgICAgICBleHBpcmVzOiA3CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyDojrflj5bnlKjmiLfkv6Hmga8KICAgICAgdXNlckluZm8oKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAvLyDpgb/lhY3otoXov4flpKflsI/pmZDliLYKICAgICAgICAgIGRlbGV0ZSByZXMucmVzdWx0LnBlcm1pc3Npb25zOwogICAgICAgICAgbGV0IHJvbGVzID0gW107CiAgICAgICAgICByZXMucmVzdWx0LnJvbGVzLmZvckVhY2goZSA9PiB7CiAgICAgICAgICAgIHJvbGVzLnB1c2goZS5uYW1lKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5zZXRTdG9yZSgicm9sZXMiLCByb2xlcyk7CiAgICAgICAgICB0aGlzLnNldFN0b3JlKCJzYXZlTG9naW4iLCB0aGlzLnNhdmVMb2dpbik7CiAgICAgICAgICBpZiAodGhpcy5zYXZlTG9naW4pIHsKICAgICAgICAgICAgLy8g5L+d5a2YN+WkqQogICAgICAgICAgICBDb29raWVzLnNldCgidXNlckluZm8iLCBKU09OLnN0cmluZ2lmeShyZXMucmVzdWx0KSwgewogICAgICAgICAgICAgIGV4cGlyZXM6IDcKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBDb29raWVzLnNldCgidXNlckluZm8iLCBKU09OLnN0cmluZ2lmeShyZXMucmVzdWx0KSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNldFN0b3JlKCJ1c2VySW5mbyIsIHJlcy5yZXN1bHQpOwogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRBdmF0YXJQYXRoIiwgcmVzLnJlc3VsdC5hdmF0YXIpOwogICAgICAgICAgLy8g5Yqg6L296I+c5Y2VCiAgICAgICAgICB1dGlsLmluaXRSb3V0ZXIodGhpcyk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICJob21lX2luZGV4IgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0TG9naW4oKSB7CiAgICAgIGlmICh0aGlzLnRhYk5hbWUgPT0gInVzZXJuYW1lIikgewogICAgICAgIHRoaXMuJHJlZnMudXNlcm5hbWVMb2dpbkZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIGxvZ2luKHsKICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5mb3JtLnVzZXJuYW1lLAogICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLmZvcm0ucGFzc3dvcmQsCiAgICAgICAgICAgICAgY29kZTogdGhpcy5mb3JtLmltZ0NvZGUsCiAgICAgICAgICAgICAgY2FwdGNoYUlkOiB0aGlzLmNhcHRjaGFJZCwKICAgICAgICAgICAgICBzYXZlTG9naW46IHRoaXMuc2F2ZUxvZ2luCiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJMb2dpbihyZXMpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2FwdGNoYUltZygpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy50YWJOYW1lID09ICJtb2JpbGUiKSB7CiAgICAgICAgdGhpcy4kcmVmcy5tb2JpbGVMb2dpbkZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZvcm0uY29kZSA9PSAiIikgewogICAgICAgICAgICAgIHRoaXMuZXJyb3JDb2RlID0gIumqjOivgeeggeS4jeiDveS4uuepuiI7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZXJyb3JDb2RlID0gIiI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5mb3JtLnNhdmVMb2dpbiA9IHRoaXMuc2F2ZUxvZ2luOwogICAgICAgICAgICBzbXNMb2dpbih0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJMb2dpbihyZXMpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdG9HaXRodWJMb2dpbigpIHsKICAgICAgdGhpcy5zb2NpYWxMb2dpbmluZyA9IHRydWU7CiAgICAgIGdpdGh1YkxvZ2luKCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXMucmVzdWx0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNvY2lhbExvZ2luaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0b1FRTG9naW4oKSB7CiAgICAgIHRoaXMuc29jaWFsTG9naW5pbmcgPSB0cnVlOwogICAgICBxcUxvZ2luKCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXMucmVzdWx0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNvY2lhbExvZ2luaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0b1dlaWJvTG9naW4oKSB7CiAgICAgIHRoaXMuc29jaWFsTG9naW5pbmcgPSB0cnVlOwogICAgICB3ZWlib0xvZ2luKCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXMucmVzdWx0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNvY2lhbExvZ2luaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0b1dlaXhpbkxvZ2luKCkgewogICAgICB0aGlzLnNvY2lhbExvZ2luaW5nID0gdHJ1ZTsKICAgICAgd2VjaGF0TG9naW4oKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlcy5yZXN1bHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc29jaWFsTG9naW5pbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbGF0ZWRMb2dpbigpIHsKICAgICAgbGV0IHEgPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgICAgbGV0IGVycm9yID0gcS5lcnJvcjsKICAgICAgaWYgKGVycm9yICE9PSAiIiAmJiBlcnJvciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihlcnJvcik7CiAgICAgIH0KICAgICAgbGV0IHJlbGF0ZWQgPSBxLnJlbGF0ZWQ7CiAgICAgIGxldCBKV1RLZXkgPSBxLkpXVEtleTsKICAgICAgaWYgKHJlbGF0ZWQgJiYgcmVsYXRlZCA9PSAiMSIpIHsKICAgICAgICBpZiAoSldUS2V5KSB7CiAgICAgICAgICBnZXRKV1QoeyBKV1RLZXk6IEpXVEtleSB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIHRoaXMuc29jaWFsTG9naW5pbmcgPSB0cnVlOwogICAgICAgICAgICAgIGxldCBhY2Nlc3NUb2tlbiA9IHJlcy5yZXN1bHQ7CiAgICAgICAgICAgICAgdGhpcy5zZXRTdG9yZSgiYWNjZXNzVG9rZW4iLCBhY2Nlc3NUb2tlbik7CiAgICAgICAgICAgICAgZ2V0T3RoZXJTZXQoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnJlc3VsdCkgewogICAgICAgICAgICAgICAgICBsZXQgZG9tYWluID0gcmVzLnJlc3VsdC5zc29Eb21haW47CiAgICAgICAgICAgICAgICAgIENvb2tpZXMuc2V0KCJhY2Nlc3NUb2tlbiIsIGFjY2Vzc1Rva2VuLCB7CiAgICAgICAgICAgICAgICAgICAgZG9tYWluOiBkb21haW4sCiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogNwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAvLyDojrflj5bnlKjmiLfkv6Hmga8KICAgICAgICAgICAgICB1c2VySW5mbygpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAvLyDpgb/lhY3otoXov4flpKflsI/pmZDliLYKICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlcy5yZXN1bHQucGVybWlzc2lvbnM7CiAgICAgICAgICAgICAgICAgIGxldCByb2xlcyA9IFtdOwogICAgICAgICAgICAgICAgICByZXMucmVzdWx0LnJvbGVzLmZvckVhY2goZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcm9sZXMucHVzaChlLm5hbWUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdG9yZSgicm9sZXMiLCByb2xlcyk7CiAgICAgICAgICAgICAgICAgIC8vIOS/neWtmDflpKkKICAgICAgICAgICAgICAgICAgQ29va2llcy5zZXQoInVzZXJJbmZvIiwgSlNPTi5zdHJpbmdpZnkocmVzLnJlc3VsdCksIHsKICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiA3CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB0aGlzLnNldFN0b3JlKCJ1c2VySW5mbyIsIHJlcy5yZXN1bHQpOwogICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldEF2YXRhclBhdGgiLCByZXMucmVzdWx0LmF2YXRhcik7CiAgICAgICAgICAgICAgICAgIC8vIOWKoOi9veiPnOWNlQogICAgICAgICAgICAgICAgICB1dGlsLmluaXRSb3V0ZXIodGhpcyk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiaG9tZV9pbmRleCIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLnNvY2lhbExvZ2luaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoIuS9v+eUqOesrOS4ieaWuei0puWPt+eZu+W9leWksei0pSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuc29jaWFsTG9naW5pbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCLkvb/nlKjnrKzkuInmlrnotKblj7fnmbvlvZXlpLHotKUiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc29jaWFsTG9naW5pbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZURyb3BEb3duKHYpIHsKICAgICAgaWYgKHYgPT0gInNob3dBY2NvdW50IikgewogICAgICAgIHRoaXMuc2hvd0FjY291bnQoKTsKICAgICAgfSBlbHNlIGlmICh2ID09ICJyZXNldEJ5TW9iaWxlIikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJyZXNldCIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh2ID09ICJyZXNldEJ5RW1haWwiKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogInJlc2V0IiwKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIHR5cGU6ICIxIgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2hvd0FjY291bnQoKSB7CiAgICAgIHRoaXMuJE5vdGljZS5pbmZvKHsKICAgICAgICB0aXRsZTogIuS9k+mqjOi0puWPt+WvhueggSIsCiAgICAgICAgZGVzYzoKICAgICAgICAgICLotKblj7cx77yadGVzdCDlr4bnoIHvvJoxMjM0NTYgPGJyPui0puWPtzLvvJp0ZXN0MiDlr4bnoIHvvJoxMjM0NTYg5bey5byA5pS+5rOo5YaM77yBIiwKICAgICAgICBkdXJhdGlvbjogMTAKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zaG93QWNjb3VudCgpOwogICAgdGhpcy5yZWxhdGVkTG9naW4oKTsKICAgIHRoaXMuZ2V0Q2FwdGNoYUltZygpOwogIH0KfTsK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login\">\n    <Row type=\"flex\" justify=\"center\" align=\"middle\" @keydown.enter.native=\"submitLogin\">\n      <Col style=\"width: 368px;\">\n        <Header />\n        <Row v-if=\"!socialLogining\">\n          <Tabs v-model=\"tabName\">\n            <TabPane :label=\"$t('usernameLogin')\" name=\"username\" icon=\"md-person\">\n              <Form\n                ref=\"usernameLoginForm\"\n                :model=\"form\"\n                :rules=\"rules\"\n                class=\"form\"\n                v-if=\"tabName=='username'\"\n              >\n                <FormItem prop=\"username\">\n                  <Input\n                    v-model=\"form.username\"\n                    prefix=\"ios-contact\"\n                    size=\"large\"\n                    clearable\n                    placeholder=\"请输入用户名\"\n                    autocomplete=\"off\"\n                  />\n                </FormItem>\n                <FormItem prop=\"password\">\n                  <Input\n                    type=\"password\"\n                    v-model=\"form.password\"\n                    prefix=\"ios-lock\"\n                    size=\"large\"\n                    password\n                    placeholder=\"请输入密码\"\n                    autocomplete=\"off\"\n                  />\n                </FormItem>\n                <FormItem prop=\"imgCode\">\n                  <Row\n                    type=\"flex\"\n                    justify=\"space-between\"\n                    style=\"align-items: center;overflow: hidden;\"\n                  >\n                    <Input\n                      v-model=\"form.imgCode\"\n                      size=\"large\"\n                      clearable\n                      placeholder=\"请输入图片验证码\"\n                      :maxlength=\"10\"\n                      class=\"input-verify\"\n                    />\n                    <div style=\"position:relative;font-size:12px\">\n                      <Spin v-if=\"loadingCaptcha\" fix></Spin>\n                      <img\n                        :src=\"captchaImg\"\n                        @click=\"getCaptchaImg\"\n                        alt=\"加载验证码失败\"\n                        style=\"width:110px;cursor:pointer;display:block\"\n                      />\n                    </div>\n                  </Row>\n                </FormItem>\n              </Form>\n            </TabPane>\n            <TabPane :label=\"$t('mobileLogin')\" name=\"mobile\" icon=\"ios-phone-portrait\">\n              <Form\n                ref=\"mobileLoginForm\"\n                :model=\"form\"\n                :rules=\"rules\"\n                class=\"form\"\n                v-if=\"tabName=='mobile'\"\n              >\n                <FormItem prop=\"mobile\">\n                  <Input\n                    v-model=\"form.mobile\"\n                    prefix=\"ios-phone-portrait\"\n                    size=\"large\"\n                    clearable\n                    placeholder=\"请输入手机号\"\n                  />\n                </FormItem>\n                <FormItem prop=\"code\" :error=\"errorCode\">\n                  <Row type=\"flex\" justify=\"space-between\">\n                    <Input\n                      v-model=\"form.code\"\n                      prefix=\"ios-mail-outline\"\n                      size=\"large\"\n                      clearable\n                      placeholder=\"请输入短信验证码\"\n                      :maxlength=\"6\"\n                      class=\"input-verify\"\n                    />\n                    <CountDownButton\n                      ref=\"countDown\"\n                      @on-click=\"sendSmsCode\"\n                      :autoCountDown=\"false\"\n                      size=\"large\"\n                      :loading=\"sending\"\n                      :text=\"getSms\"\n                    />\n                  </Row>\n                </FormItem>\n              </Form>\n            </TabPane>\n          </Tabs>\n\n          <Row type=\"flex\" justify=\"space-between\" align=\"middle\">\n            <Checkbox v-model=\"saveLogin\" size=\"large\">{{ $t('autoLogin') }}</Checkbox>\n            <Dropdown trigger=\"click\" @on-click=\"handleDropDown\">\n              <a class=\"forget-pass\">{{ $t('forgetPass') }}</a>\n              <DropdownMenu slot=\"list\">\n                <DropdownItem name=\"showAccount\">体验测试账号</DropdownItem>\n                <DropdownItem name=\"resetByMobile\">使用手机号重置密码</DropdownItem>\n                <DropdownItem name=\"resetByEmail\">使用邮箱重置密码</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          </Row>\n          <Row>\n            <Button\n              class=\"login-btn\"\n              type=\"primary\"\n              size=\"large\"\n              :loading=\"loading\"\n              @click=\"submitLogin\"\n              long\n            >\n              <span v-if=\"!loading\">{{ $t('login') }}</span>\n              <span v-else>{{ $t('logining') }}</span>\n            </Button>\n          </Row>\n          <Row type=\"flex\" justify=\"space-between\" class=\"other-login\">\n            <div class=\"other-way icons\">\n              {{ $t('otherLogin') }}\n              <div class=\"other-icon\" @click=\"toGithubLogin\">\n                <icon scale=\"1.3\" name=\"brands/github\"></icon>\n              </div>\n              <div class=\"other-icon\" @click=\"toQQLogin\">\n                <icon scale=\"1.2\" name=\"brands/qq\"></icon>\n              </div>\n              <div class=\"other-icon\" @click=\"toWeixinLogin\">\n                <icon scale=\"1.3\" name=\"brands/weixin\"></icon>\n              </div>\n              <div class=\"other-icon\" @click=\"toWeiboLogin\">\n                <icon scale=\"1.3\" name=\"brands/weibo\"></icon>\n              </div>\n            </div>\n            <router-link to=\"/regist\">\n              <a class=\"forget-pass\">{{ $t('regist') }}</a>\n            </router-link>\n          </Row>\n        </Row>\n        <div v-if=\"socialLogining\">\n          <RectLoading />\n        </div>\n        <Footer />\n      </Col>\n      <LangSwitch />\n    </Row>\n  </div>\n</template>\n\n<script>\nimport {\n  login,\n  userInfo,\n  githubLogin,\n  qqLogin,\n  weiboLogin,\n  wechatLogin,\n  getJWT,\n  sendLoginSms,\n  smsLogin,\n  initCaptcha,\n  drawCodeImage,\n  getOtherSet\n} from \"@/api/index\";\nimport { validateMobile } from \"@/libs/validate\";\nimport Cookies from \"js-cookie\";\nimport Header from \"@/views/main-components/header\";\nimport Footer from \"@/views/main-components/footer\";\nimport LangSwitch from \"@/views/main-components/lang-switch\";\nimport RectLoading from \"@/views/my-components/share/rect-loading\";\nimport CountDownButton from \"@/views/my-components/share/count-down-button\";\nimport util from \"@/libs/util.js\";\nexport default {\n  components: {\n    CountDownButton,\n    RectLoading,\n    LangSwitch,\n    Header,\n    Footer\n  },\n  data() {\n    return {\n      captchaId: \"\",\n      captchaImg: \"\",\n      loadingCaptcha: true,\n      socialLogining: true,\n      error: false,\n      tabName: \"username\",\n      saveLogin: true,\n      getSms: \"获取验证码\",\n      loading: false,\n      sending: false,\n      errorCode: \"\",\n      form: {\n        username: \"test或test2 可注册 支持第三方账号登录\",\n        password: \"123456\",\n        mobile: \"阿里云短信0.045/条 若余额不足联系作者充值\",\n        code: \"\"\n      },\n      rules: {\n        username: [\n          {\n            required: true,\n            message: \"账号不能为空\",\n            trigger: \"blur\"\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: \"密码不能为空\",\n            trigger: \"blur\"\n          }\n        ],\n        imgCode: [\n          {\n            required: true,\n            message: \"验证码不能为空\",\n            trigger: \"blur\"\n          }\n        ],\n        mobile: [\n          {\n            required: true,\n            message: \"手机号不能为空\",\n            trigger: \"blur\"\n          },\n          {\n            validator: validateMobile,\n            trigger: \"blur\"\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    getCaptchaImg() {\n      this.loadingCaptcha = true;\n      initCaptcha().then(res => {\n        this.loadingCaptcha = false;\n        if (res.success) {\n          this.captchaId = res.result;\n          this.captchaImg = drawCodeImage + this.captchaId;\n        }\n      });\n    },\n    sendSmsCode() {\n      this.$refs.mobileLoginForm.validate(valid => {\n        if (valid) {\n          this.sending = true;\n          this.getSms = \"发送中\";\n          sendLoginSms(this.form.mobile).then(res => {\n            this.getSms = \"获取验证码\";\n            this.sending = false;\n            if (res.success) {\n              this.$Message.success(\"发送短信验证码成功\");\n              // 开始倒计时\n              this.$refs.countDown.startCountDown();\n            }\n          });\n        }\n      });\n    },\n    afterLogin(res) {\n      let accessToken = res.result;\n      this.setStore(\"accessToken\", accessToken);\n      getOtherSet().then(res => {\n        if (res.result) {\n          let domain = res.result.ssoDomain;\n          Cookies.set(\"accessToken\", accessToken, {\n            domain: domain,\n            expires: 7\n          });\n        }\n      });\n      // 获取用户信息\n      userInfo().then(res => {\n        if (res.success) {\n          // 避免超过大小限制\n          delete res.result.permissions;\n          let roles = [];\n          res.result.roles.forEach(e => {\n            roles.push(e.name);\n          });\n          this.setStore(\"roles\", roles);\n          this.setStore(\"saveLogin\", this.saveLogin);\n          if (this.saveLogin) {\n            // 保存7天\n            Cookies.set(\"userInfo\", JSON.stringify(res.result), {\n              expires: 7\n            });\n          } else {\n            Cookies.set(\"userInfo\", JSON.stringify(res.result));\n          }\n          this.setStore(\"userInfo\", res.result);\n          this.$store.commit(\"setAvatarPath\", res.result.avatar);\n          // 加载菜单\n          util.initRouter(this);\n          this.$router.push({\n            name: \"home_index\"\n          });\n        } else {\n          this.loading = false;\n        }\n      });\n    },\n    submitLogin() {\n      if (this.tabName == \"username\") {\n        this.$refs.usernameLoginForm.validate(valid => {\n          if (valid) {\n            this.loading = true;\n            login({\n              username: this.form.username,\n              password: this.form.password,\n              code: this.form.imgCode,\n              captchaId: this.captchaId,\n              saveLogin: this.saveLogin\n            }).then(res => {\n              if (res.success) {\n                this.afterLogin(res);\n              } else {\n                this.loading = false;\n                this.getCaptchaImg();\n              }\n            });\n          }\n        });\n      } else if (this.tabName == \"mobile\") {\n        this.$refs.mobileLoginForm.validate(valid => {\n          if (valid) {\n            if (this.form.code == \"\") {\n              this.errorCode = \"验证码不能为空\";\n              return;\n            } else {\n              this.errorCode = \"\";\n            }\n            this.loading = true;\n            this.form.saveLogin = this.saveLogin;\n            smsLogin(this.form).then(res => {\n              if (res.success) {\n                this.afterLogin(res);\n              } else {\n                this.loading = false;\n              }\n            });\n          }\n        });\n      }\n    },\n    toGithubLogin() {\n      this.socialLogining = true;\n      githubLogin().then(res => {\n        if (res.success) {\n          window.location.href = res.result;\n        } else {\n          this.socialLogining = false;\n        }\n      });\n    },\n    toQQLogin() {\n      this.socialLogining = true;\n      qqLogin().then(res => {\n        if (res.success) {\n          window.location.href = res.result;\n        } else {\n          this.socialLogining = false;\n        }\n      });\n    },\n    toWeiboLogin() {\n      this.socialLogining = true;\n      weiboLogin().then(res => {\n        if (res.success) {\n          window.location.href = res.result;\n        } else {\n          this.socialLogining = false;\n        }\n      });\n    },\n    toWeixinLogin() {\n      this.socialLogining = true;\n      wechatLogin().then(res => {\n        if (res.success) {\n          window.location.href = res.result;\n        } else {\n          this.socialLogining = false;\n        }\n      });\n    },\n    relatedLogin() {\n      let q = this.$route.query;\n      let error = q.error;\n      if (error !== \"\" && error !== undefined) {\n        this.$Message.error(error);\n      }\n      let related = q.related;\n      let JWTKey = q.JWTKey;\n      if (related && related == \"1\") {\n        if (JWTKey) {\n          getJWT({ JWTKey: JWTKey }).then(res => {\n            if (res.success) {\n              this.socialLogining = true;\n              let accessToken = res.result;\n              this.setStore(\"accessToken\", accessToken);\n              getOtherSet().then(res => {\n                if (res.result) {\n                  let domain = res.result.ssoDomain;\n                  Cookies.set(\"accessToken\", accessToken, {\n                    domain: domain,\n                    expires: 7\n                  });\n                }\n              });\n              // 获取用户信息\n              userInfo().then(res => {\n                if (res.success) {\n                  // 避免超过大小限制\n                  delete res.result.permissions;\n                  let roles = [];\n                  res.result.roles.forEach(e => {\n                    roles.push(e.name);\n                  });\n                  this.setStore(\"roles\", roles);\n                  // 保存7天\n                  Cookies.set(\"userInfo\", JSON.stringify(res.result), {\n                    expires: 7\n                  });\n                  this.setStore(\"userInfo\", res.result);\n                  this.$store.commit(\"setAvatarPath\", res.result.avatar);\n                  // 加载菜单\n                  util.initRouter(this);\n                  this.$router.push({\n                    name: \"home_index\"\n                  });\n                } else {\n                  this.socialLogining = false;\n                  this.$Message.error(\"使用第三方账号登录失败\");\n                }\n              });\n            } else {\n              this.socialLogining = false;\n              this.$Message.error(\"使用第三方账号登录失败\");\n            }\n          });\n        }\n      } else {\n        this.socialLogining = false;\n      }\n    },\n    handleDropDown(v) {\n      if (v == \"showAccount\") {\n        this.showAccount();\n      } else if (v == \"resetByMobile\") {\n        this.$router.push({\n          name: \"reset\"\n        });\n      } else if (v == \"resetByEmail\") {\n        this.$router.push({\n          name: \"reset\",\n          query: {\n            type: \"1\"\n          }\n        });\n      }\n    },\n    showAccount() {\n      this.$Notice.info({\n        title: \"体验账号密码\",\n        desc:\n          \"账号1：test 密码：123456 <br>账号2：test2 密码：123456 已开放注册！\",\n        duration: 10\n      });\n    }\n  },\n  mounted() {\n    this.showAccount();\n    this.relatedLogin();\n    this.getCaptchaImg();\n  }\n};\n</script>\n\n<style lang=\"less\">\n@import \"./login.less\";\n</style>\n"]}]}