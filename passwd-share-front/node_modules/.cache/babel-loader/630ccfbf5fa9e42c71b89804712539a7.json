{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/activiti/process-manage/processNodeEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/activiti/process-manage/processNodeEdit.vue","mtime":1579164402589},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0UHJvY2Vzc05vZGUsIGVkaXROb2RlVXNlciB9IGZyb20gIkAvYXBpL2FjdGl2aXRpIjsKaW1wb3J0IHsgZ2V0QWxsUm9sZUxpc3QsIGdldERpY3REYXRhQnlUeXBlIH0gZnJvbSAiQC9hcGkvaW5kZXgiOwppbXBvcnQgdXNlckNob29zZSBmcm9tICJAL3ZpZXdzL215LWNvbXBvbmVudHMvc2hhcmUvdXNlci1jaG9vc2UiOwppbXBvcnQgZGVwYXJ0bWVudFRyZWVDaG9vc2UgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3NoYXJlL2RlcGFydG1lbnQtdHJlZS1jaG9vc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInByb2Nlc3Nfbm9kZV9lZGl0IiwKICBjb21wb25lbnRzOiB7CiAgICB1c2VyQ2hvb3NlOiB1c2VyQ2hvb3NlLAogICAgZGVwYXJ0bWVudFRyZWVDaG9vc2U6IGRlcGFydG1lbnRUcmVlQ2hvb3NlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOihqOWNleWKoOi9veeKtuaAgQogICAgICBub2RlTG9hZGluZzogZmFsc2UsCiAgICAgIGRhdGE6IFtdLAogICAgICBlZGl0VGl0bGU6ICIiLAogICAgICBzZWxlY3RVc2VyczogW10sCiAgICAgIHVzZXJNb2RhbFZpc2libGU6IGZhbHNlLAogICAgICBtb2RhbFRpdGxlOiAiIiwKICAgICAgLy8g5re75Yqg5oiW57yW6L6R5qCH6aKYCiAgICAgIGZvcm06IHsKICAgICAgICAvLyDmt7vliqDmiJbnvJbovpHooajljZXlr7nosaHliJ3lp4vljJbmlbDmja4KICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgY29udGVudDogIiIsCiAgICAgICAgdHlwZTogbnVsbCwKICAgICAgICByb2xlczogW10sCiAgICAgICAgZGVwYXJ0bWVudElkczogW10sCiAgICAgICAgY2hvb3NlRGVwSGVhZGVyOiBmYWxzZQogICAgICB9LAogICAgICByb2xlTGlzdDogW10sCiAgICAgIGZvcm1WYWxpZGF0ZTogey8vIOihqOWNlemqjOivgeinhOWImQogICAgICB9LAogICAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g5re75Yqg5oiW57yW6L6R5o+Q5Lqk54q25oCBCiAgICAgIGNob29zZVJvbGU6IGZhbHNlLAogICAgICBjaG9vc2VVc2VyOiBmYWxzZSwKICAgICAgY2hvb3NlRGVwYXJ0bWVudDogZmFsc2UsCiAgICAgIGRpY3ROb2RlVHlwZTogW10sCiAgICAgIGJhY2tSb3V0ZTogIiIsCiAgICAgIHByb2Nlc3NOYW1lOiAiIiwKICAgICAgcHJvY2Vzc0lkOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuZ2V0RGljdERhdGFUeXBlKCk7CiAgICAgIHRoaXMuZ2V0Um9sZUxpc3QoKTsKICAgICAgdGhpcy5iYWNrUm91dGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5iYWNrUm91dGU7CiAgICAgIHRoaXMucHJvY2Vzc0lkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICAgIHRoaXMucHJvY2Vzc05hbWUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5uYW1lOwogICAgfSwKICAgIGdldERpY3REYXRhVHlwZTogZnVuY3Rpb24gZ2V0RGljdERhdGFUeXBlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZ2V0RGljdERhdGFCeVR5cGUoInByb2Nlc3Nfbm9kZV90eXBlIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpcy5kaWN0Tm9kZVR5cGUgPSByZXMucmVzdWx0OwoKICAgICAgICAgIF90aGlzLmdldERhdGEoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFJvbGVMaXN0OiBmdW5jdGlvbiBnZXRSb2xlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBnZXRBbGxSb2xlTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMyLnJvbGVMaXN0ID0gcmVzLnJlc3VsdDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0UHJvY2Vzc05vZGUodGhpcy5wcm9jZXNzSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgLy8g6L2s5o2ibnVsbOS4uiIiCiAgICAgICAgICB2YXIgdiA9IHJlcy5yZXN1bHQ7CgogICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiB2KSB7CiAgICAgICAgICAgIGlmICh2W2F0dHJdID09IG51bGwpIHsKICAgICAgICAgICAgICB2W2F0dHJdID0gIiI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgc3RyID0gSlNPTi5zdHJpbmdpZnkodik7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTsKICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpczMuZGljdE5vZGVUeXBlLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICB0LnZhbHVlID0gTnVtYmVyKHQudmFsdWUpOwoKICAgICAgICAgICAgICBpZiAoIWUudGl0bGUgJiYgZS50eXBlID09IHQudmFsdWUpIHsKICAgICAgICAgICAgICAgIGUudGl0bGUgPSB0LnRpdGxlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMy5kYXRhID0gZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbmRlckNvbnRlbnQ6IGZ1bmN0aW9uIHJlbmRlckNvbnRlbnQoaCwgX3JlZikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciByb290ID0gX3JlZi5yb290LAogICAgICAgICAgbm9kZSA9IF9yZWYubm9kZSwKICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgIHZhciBjb2xvciA9ICIiLAogICAgICAgICAgd29yZCA9ICIiOwoKICAgICAgaWYgKGRhdGEudHlwZSA9PSAwKSB7CiAgICAgICAgY29sb3IgPSAiIzQ3Y2I4OSI7CiAgICAgICAgd29yZCA9ICLlvIAiOwogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSAxKSB7CiAgICAgICAgY29sb3IgPSAiIzJkYjdmNSI7CiAgICAgICAgd29yZCA9ICLlrqEiOwogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSAyKSB7CiAgICAgICAgd29yZCA9ICLnu5MiOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbG9yID0gIiNmOTAiOwogICAgICAgIHdvcmQgPSAi5YW25LuWIjsKICAgICAgfQoKICAgICAgcmV0dXJuIGgoInNwYW4iLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAogICAgICAgICAgY3Vyc29yOiAicG9pbnRlciIKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzNC5zZWxlY3RUcmVlKGRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgW2goInNwYW4iLCBbaCgiQXZhdGFyIiwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgfSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgYmFja2dyb3VuZDogY29sb3IsCiAgICAgICAgICAibWFyZ2luLXJpZ2h0IjogIjVweCIKICAgICAgICB9CiAgICAgIH0sIHdvcmQpLCBoKCJzcGFuIiwgewogICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAiaXZ1LXRyZWUtdGl0bGUiOiB0cnVlLAogICAgICAgICAgIml2dS10cmVlLXRpdGxlLXNlbGVjdGVkIjogZGF0YS5pZCA9PSB0aGlzLmZvcm0uaWQKICAgICAgICB9CiAgICAgIH0sIGRhdGEudGl0bGUpXSldKTsKICAgIH0sCiAgICBzZWxlY3RUcmVlOiBmdW5jdGlvbiBzZWxlY3RUcmVlKHYpIHsKICAgICAgaWYgKHYgJiYgdi5pZCAhPSB0aGlzLmZvcm0uaWQpIHsKICAgICAgICAvLyDovazmjaJudWxs5Li6IiIKICAgICAgICBmb3IgKHZhciBhdHRyIGluIHYpIHsKICAgICAgICAgIGlmICh2W2F0dHJdID09IG51bGwpIHsKICAgICAgICAgICAgdlthdHRyXSA9ICIiOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIHN0ciA9IEpTT04uc3RyaW5naWZ5KHYpOwogICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzdHIpOwogICAgICAgIHRoaXMuc2VsZWN0VXNlcnMgPSBkYXRhLnVzZXJzOwogICAgICAgIHRoaXMuZWRpdFRpdGxlID0gZGF0YS50aXRsZTsgLy8g5Zue5pi+55So5oi3CgogICAgICAgIGlmIChkYXRhLnVzZXJzICYmIGRhdGEudXNlcnMubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy5jaG9vc2VVc2VyID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuJHJlZnMudXNlci5zZXREYXRhKGRhdGEudXNlcnMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNob29zZVVzZXIgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJHJlZnMudXNlci5zZXREYXRhKFtdKTsKICAgICAgICB9IC8vIOWbnuaYvuinkuiJsgoKCiAgICAgICAgaWYgKGRhdGEucm9sZXMgJiYgZGF0YS5yb2xlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLmNob29zZVJvbGUgPSB0cnVlOwogICAgICAgICAgdmFyIHJvbGVJZHMgPSBbXTsKICAgICAgICAgIGRhdGEucm9sZXMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByb2xlSWRzLnB1c2goZS5pZCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGRhdGEucm9sZXMgPSByb2xlSWRzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNob29zZVJvbGUgPSBmYWxzZTsKICAgICAgICB9IC8vIOWbnuaYvumDqOmXqAoKCiAgICAgICAgaWYgKGRhdGEuZGVwYXJ0bWVudHMgJiYgZGF0YS5kZXBhcnRtZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLmNob29zZURlcGFydG1lbnQgPSB0cnVlOwogICAgICAgICAgdmFyIGRlcGFydG1lbnRJZHMgPSBbXSwKICAgICAgICAgICAgICB0aXRsZSA9ICIiOwogICAgICAgICAgZGF0YS5kZXBhcnRtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGRlcGFydG1lbnRJZHMucHVzaChlLmlkKTsKCiAgICAgICAgICAgIGlmICh0aXRsZSA9PSAiIikgewogICAgICAgICAgICAgIHRpdGxlID0gZS50aXRsZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aXRsZSA9IHRpdGxlICsgIuOAgSIgKyBlLnRpdGxlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJHJlZnMuZGVwVHJlZS5zZXREYXRhKGRlcGFydG1lbnRJZHMsIHRpdGxlKTsKICAgICAgICAgIGRhdGEuZGVwYXJ0bWVudElkcyA9IGRlcGFydG1lbnRJZHM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2hvb3NlRGVwYXJ0bWVudCA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kcmVmcy5kZXBUcmVlLnNldERhdGEoW10sICIiKTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIHRoaXMuZm9ybSA9IGRhdGE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jYW5jZWxFZGl0KCk7CiAgICAgIH0KICAgIH0sCiAgICBjYW5jZWxFZGl0OiBmdW5jdGlvbiBjYW5jZWxFZGl0KCkgewogICAgICB2YXIgZGF0YSA9IHRoaXMuJHJlZnMudHJlZS5nZXRTZWxlY3RlZE5vZGVzKClbMF07CgogICAgICBpZiAoZGF0YSkgewogICAgICAgIGRhdGEuc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuZm9ybS5pZCA9ICIiOwogICAgICBkZWxldGUgdGhpcy5mb3JtLmlkOwogICAgICB0aGlzLmVkaXRUaXRsZSA9ICIiOwogICAgfSwKICAgIGhhbmRlbFN1Ym1pdDogZnVuY3Rpb24gaGFuZGVsU3VibWl0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzNS5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsgLy8g55So5oi3aWTmlbDmja4KCiAgICAgICAgICB2YXIgaWRzID0gW107CgogICAgICAgICAgX3RoaXM1LnNlbGVjdFVzZXJzLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWRzICs9IGUuaWQgKyAiLCI7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgaWRzID0gaWRzLnN1YnN0cmluZygwLCBpZHMubGVuZ3RoIC0gMSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM1LmZvcm0ubm9kZUlkID0gX3RoaXM1LmZvcm0uaWQ7CgogICAgICAgICAgaWYgKF90aGlzNS5jaG9vc2VVc2VyKSB7CiAgICAgICAgICAgIF90aGlzNS5mb3JtLnVzZXJJZHMgPSBpZHM7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczUuZm9ybS51c2VySWRzID0gW107CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzNS5jaG9vc2VSb2xlKSB7CiAgICAgICAgICAgIF90aGlzNS5mb3JtLnJvbGVJZHMgPSBfdGhpczUuZm9ybS5yb2xlczsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNS5mb3JtLnJvbGVJZHMgPSBbXTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIV90aGlzNS5jaG9vc2VEZXBhcnRtZW50KSB7CiAgICAgICAgICAgIF90aGlzNS5mb3JtLmRlcGFydG1lbnRJZHMgPSBbXTsKICAgICAgICAgIH0KCiAgICAgICAgICBlZGl0Tm9kZVVzZXIoX3RoaXM1LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczUuc3VibWl0TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgX3RoaXM1LiRNZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOwoKICAgICAgICAgICAgICBfdGhpczUuZ2V0RGF0YSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNsaWNrUm9sZTogZnVuY3Rpb24gY2xpY2tSb2xlKHYpIHsKICAgICAgdGhpcy5jaG9vc2VSb2xlID0gdjsKICAgIH0sCiAgICBjbGlja1VzZXI6IGZ1bmN0aW9uIGNsaWNrVXNlcih2KSB7CiAgICAgIHRoaXMuY2hvb3NlVXNlciA9IHY7CiAgICB9LAogICAgY2xpY2tEZXBhcnRtZW50OiBmdW5jdGlvbiBjbGlja0RlcGFydG1lbnQodikgewogICAgICB0aGlzLmNob29zZURlcGFydG1lbnQgPSB2OwogICAgfSwKICAgIGhhbmRsZVNlbGVjdFVzZXI6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdFVzZXIodikgewogICAgICB0aGlzLnNlbGVjdFVzZXJzID0gdjsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3REZXBUcmVlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3REZXBUcmVlKHYpIHsKICAgICAgdGhpcy5mb3JtLmRlcGFydG1lbnRJZHMgPSB2OwogICAgfSwKICAgIC8vIOWFs+mXreW9k+WJjemhtemdogogICAgY2xvc2VDdXJyZW50UGFnZTogZnVuY3Rpb24gY2xvc2VDdXJyZW50UGFnZSgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZW1vdmVUYWciLCAicHJvY2Vzc19ub2RlX2VkaXQiKTsKICAgICAgbG9jYWxTdG9yYWdlLnBhZ2VPcGVuZWRMaXN0ID0gSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuc3RhdGUuYXBwLnBhZ2VPcGVuZWRMaXN0KTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6IHRoaXMuYmFja1JvdXRlCiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOebkeWQrOi3r+eUseWPmOWMlgogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUodG8sIGZyb20pIHsKICAgICAgaWYgKHRvLm5hbWUgPT0gInByb2Nlc3Nfbm9kZV9lZGl0IikgewogICAgICAgIHRoaXMuaW5pdCgpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["processNodeEdit.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\">\n@import \"../../../styles/tree-common.less\";\n@import \"./processManage.less\";\n</style>\n<template>\n  <div class=\"search\">\n    <Card>\n      <p slot=\"title\">{{processName}} 流程节点设置</p>\n      <Row type=\"flex\" justify=\"start\">\n        <Col span=\"6\">\n          <Alert show-icon>\n            当前选择编辑：\n            <span class=\"select-title\">{{editTitle}}</span>\n            <a class=\"select-clear\" v-if=\"form.id\" @click=\"cancelEdit\">取消选择</a>\n          </Alert>\n          <div class=\"tree-bar\">\n            <Tree ref=\"tree\" :data=\"data\" :render=\"renderContent\" @on-select-change=\"selectTree\"></Tree>\n            <Spin size=\"large\" fix v-if=\"loading\"></Spin>\n          </div>\n        </Col>\n        <Col span=\"10\">\n          <Alert\n            type=\"warning\"\n            show-icon\n            style=\"margin-left: 1vw\"\n          >温馨提示：若流程运行至未分配审批人员的审批节点时，流程将自动中断取消</Alert>\n          <Form\n            ref=\"form\"\n            :model=\"form\"\n            :label-width=\"90\"\n            :rules=\"formValidate\"\n            style=\"position:relative\"\n          >\n            <FormItem label=\"节点名称\" prop=\"title\">{{form.title}}</FormItem>\n            <Form-item label=\"节点类型\" prop=\"type\">\n              <Select v-model=\"form.type\" disabled placeholder>\n                <Option\n                  v-for=\"(item, i) in dictNodeType\"\n                  :key=\"i\"\n                  :value=\"item.value\"\n                >{{item.title}}</Option>\n              </Select>\n            </Form-item>\n            <div v-show=\"form.type==1\">\n              <FormItem label=\"可审批人员\">\n                <Checkbox v-model=\"chooseRole\" @on-change=\"clickRole\">\n                  <Icon type=\"md-people\" size=\"14\" style=\"margin:0 2px 2px 0\"></Icon>\n                  <span>根据角色选择</span>\n                </Checkbox>\n                <Checkbox v-model=\"chooseDepartment\" @on-change=\"clickDepartment\">\n                  <Icon type=\"ios-people\" style=\"margin:0 2px 2px 0\"></Icon>\n                  <span>部门负责人</span>\n                </Checkbox>\n                <Checkbox v-model=\"chooseUser\" @on-change=\"clickUser\">\n                  <Icon type=\"md-person\" style=\"margin:0 2px 2px 0\"></Icon>\n                  <span>直接选择人员</span>\n                </Checkbox>\n                <Checkbox v-model=\"form.chooseDepHeader\">\n                  <Icon type=\"md-person\" style=\"margin:0 2px 2px 0\"></Icon>\n                  <span>发起人或上一审批人的部门负责人</span>\n                  <Tooltip\n                    content=\"自动获取发起人或上一审批人员的部门负责人\"\n                    placement=\"right\"\n                    transfer\n                    max-width=\"280\"\n                    style=\"display: inline-block !important;\"\n                  >\n                    <Icon\n                      type=\"md-help-circle\"\n                      size=\"20\"\n                      color=\"#c5c5c5\"\n                      style=\"margin-left:10px;cursor:pointer;\"\n                    />\n                  </Tooltip>\n                </Checkbox>\n              </FormItem>\n              <FormItem label=\"选择角色\" v-if=\"chooseRole\">\n                <Select v-model=\"form.roles\" multiple>\n                  <Option\n                    v-for=\"item in roleList\"\n                    :value=\"item.id\"\n                    :key=\"item.id\"\n                    :label=\"item.name\"\n                  >\n                    <span style=\"margin-right:10px;\">{{ item.name }}</span>\n                    <span style=\"color:#ccc;\">{{ item.description }}</span>\n                  </Option>\n                </Select>\n              </FormItem>\n              <div v-show=\"chooseDepartment\">\n                <FormItem label=\"选择部门\">\n                  <department-tree-choose\n                    multiple\n                    width=\"250px\"\n                    @on-change=\"handleSelectDepTree\"\n                    ref=\"depTree\"\n                  ></department-tree-choose>\n                </FormItem>\n              </div>\n              <div v-show=\"chooseUser\">\n                <FormItem label=\"选择用户\">\n                  <user-choose @on-change=\"handleSelectUser\" ref=\"user\"></user-choose>\n                </FormItem>\n              </div>\n            </div>\n            <Form-item class=\"br\">\n              <Button\n                type=\"primary\"\n                :loading=\"submitLoading\"\n                @click=\"handelSubmit\"\n                icon=\"ios-create-outline\"\n                :disabled=\"form.type!=1\"\n              >保存并提交</Button>\n              <Button @click=\"closeCurrentPage\">关闭</Button>\n            </Form-item>\n            <Spin size=\"large\" fix v-if=\"nodeLoading\"></Spin>\n          </Form>\n        </Col>\n      </Row>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { getProcessNode, editNodeUser } from \"@/api/activiti\";\nimport { getAllRoleList, getDictDataByType } from \"@/api/index\";\nimport userChoose from \"@/views/my-components/share/user-choose\";\nimport departmentTreeChoose from \"@/views/my-components/share/department-tree-choose\";\nexport default {\n  name: \"process_node_edit\",\n  components: {\n    userChoose,\n    departmentTreeChoose\n  },\n  data() {\n    return {\n      loading: false, // 表单加载状态\n      nodeLoading: false,\n      data: [],\n      editTitle: \"\",\n      selectUsers: [],\n      userModalVisible: false,\n      modalTitle: \"\", // 添加或编辑标题\n      form: {\n        // 添加或编辑表单对象初始化数据\n        title: \"\",\n        content: \"\",\n        type: null,\n        roles: [],\n        departmentIds: [],\n        chooseDepHeader: false\n      },\n      roleList: [],\n      formValidate: {\n        // 表单验证规则\n      },\n      submitLoading: false, // 添加或编辑提交状态\n      chooseRole: false,\n      chooseUser: false,\n      chooseDepartment: false,\n      dictNodeType: [],\n      backRoute: \"\",\n      processName: \"\",\n      processId: \"\"\n    };\n  },\n  methods: {\n    init() {\n      this.getDictDataType();\n      this.getRoleList();\n      this.backRoute = this.$route.query.backRoute;\n      this.processId = this.$route.query.id;\n      this.processName = this.$route.query.name;\n    },\n    getDictDataType() {\n      getDictDataByType(\"process_node_type\").then(res => {\n        if (res.success) {\n          this.dictNodeType = res.result;\n          this.getData();\n        }\n      });\n    },\n    getRoleList() {\n      getAllRoleList().then(res => {\n        if (res.success) {\n          this.roleList = res.result;\n        }\n      });\n    },\n    getData() {\n      this.loading = true;\n      getProcessNode(this.processId).then(res => {\n        this.loading = false;\n        if (res.success) {\n          // 转换null为\"\"\n          let v = res.result;\n          for (let attr in v) {\n            if (v[attr] == null) {\n              v[attr] = \"\";\n            }\n          }\n          let str = JSON.stringify(v);\n          let data = JSON.parse(str);\n          data.forEach(e => {\n            this.dictNodeType.forEach(t => {\n              t.value = Number(t.value);\n              if (!e.title && e.type == t.value) {\n                e.title = t.title;\n              }\n            });\n          });\n          this.data = data;\n        }\n      });\n    },\n    renderContent(h, { root, node, data }) {\n      let color = \"\",\n        word = \"\";\n      if (data.type == 0) {\n        color = \"#47cb89\";\n        word = \"开\";\n      } else if (data.type == 1) {\n        color = \"#2db7f5\";\n        word = \"审\";\n      } else if (data.type == 2) {\n        word = \"结\";\n      } else {\n        color = \"#f90\";\n        word = \"其他\";\n      }\n      return h(\n        \"span\",\n        {\n          style: {\n            display: \"inline-block\",\n            cursor: \"pointer\"\n          },\n          on: {\n            click: () => {\n              this.selectTree(data);\n            }\n          }\n        },\n        [\n          h(\"span\", [\n            h(\n              \"Avatar\",\n              {\n                props: {\n                  size: \"small\"\n                },\n                style: {\n                  background: color,\n                  \"margin-right\": \"5px\"\n                }\n              },\n              word\n            ),\n            h(\n              \"span\",\n              {\n                class: {\n                  \"ivu-tree-title\": true,\n                  \"ivu-tree-title-selected\": data.id == this.form.id\n                }\n              },\n              data.title\n            )\n          ])\n        ]\n      );\n    },\n    selectTree(v) {\n      if (v && v.id != this.form.id) {\n        // 转换null为\"\"\n        for (let attr in v) {\n          if (v[attr] == null) {\n            v[attr] = \"\";\n          }\n        }\n        let str = JSON.stringify(v);\n        let data = JSON.parse(str);\n        this.selectUsers = data.users;\n        this.editTitle = data.title;\n        // 回显用户\n        if (data.users && data.users.length > 0) {\n          this.chooseUser = true;\n          this.$refs.user.setData(data.users);\n        } else {\n          this.chooseUser = false;\n          this.$refs.user.setData([]);\n        }\n        // 回显角色\n        if (data.roles && data.roles.length > 0) {\n          this.chooseRole = true;\n          let roleIds = [];\n          data.roles.forEach(e => {\n            roleIds.push(e.id);\n          });\n          data.roles = roleIds;\n        } else {\n          this.chooseRole = false;\n        }\n        // 回显部门\n        if (data.departments && data.departments.length > 0) {\n          this.chooseDepartment = true;\n          let departmentIds = [],\n            title = \"\";\n          data.departments.forEach(e => {\n            departmentIds.push(e.id);\n            if (title == \"\") {\n              title = e.title;\n            } else {\n              title = title + \"、\" + e.title;\n            }\n          });\n          this.$refs.depTree.setData(departmentIds, title);\n          data.departmentIds = departmentIds;\n        } else {\n          this.chooseDepartment = false;\n          this.$refs.depTree.setData([], \"\");\n        }\n        console.log(data);\n        this.form = data;\n      } else {\n        this.cancelEdit();\n      }\n    },\n    cancelEdit() {\n      let data = this.$refs.tree.getSelectedNodes()[0];\n      if (data) {\n        data.selected = false;\n      }\n      this.$refs.form.resetFields();\n      this.form.id = \"\";\n      delete this.form.id;\n      this.editTitle = \"\";\n    },\n    handelSubmit() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          this.submitLoading = true;\n          // 用户id数据\n          let ids = [];\n          this.selectUsers.forEach(e => {\n            ids += e.id + \",\";\n          });\n          if (ids.length > 0) {\n            ids = ids.substring(0, ids.length - 1);\n          }\n          this.form.nodeId = this.form.id;\n          if (this.chooseUser) {\n            this.form.userIds = ids;\n          } else {\n            this.form.userIds = [];\n          }\n          if (this.chooseRole) {\n            this.form.roleIds = this.form.roles;\n          } else {\n            this.form.roleIds = [];\n          }\n          if (!this.chooseDepartment) {\n            this.form.departmentIds = [];\n          }\n          editNodeUser(this.form).then(res => {\n            this.submitLoading = false;\n            if (res.success) {\n              this.$Message.success(\"操作成功\");\n              this.getData();\n            }\n          });\n        }\n      });\n    },\n    clickRole(v) {\n      this.chooseRole = v;\n    },\n    clickUser(v) {\n      this.chooseUser = v;\n    },\n    clickDepartment(v) {\n      this.chooseDepartment = v;\n    },\n    handleSelectUser(v) {\n      this.selectUsers = v;\n    },\n    handleSelectDepTree(v) {\n      this.form.departmentIds = v;\n    },\n    // 关闭当前页面\n    closeCurrentPage() {\n      this.$store.commit(\"removeTag\", \"process_node_edit\");\n      localStorage.pageOpenedList = JSON.stringify(\n        this.$store.state.app.pageOpenedList\n      );\n      this.$router.push({\n        name: this.backRoute\n      });\n    }\n  },\n  mounted() {\n    this.init();\n  },\n  watch: {\n    // 监听路由变化\n    $route(to, from) {\n      if (to.name == \"process_node_edit\") {\n        this.init();\n      }\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/views/activiti/process-manage"}]}