{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/my-components/tree-table/Table/TableFooter.js","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/my-components/tree-table/Table/TableFooter.js","mtime":1568598632667},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWl4aW5zIH0gZnJvbSAnLi91dGlscyc7Ci8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RyZWVUYWJsZV9fZm9vdGVyJywKICBtaXhpbnM6IFttaXhpbnNdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBjb21wdXRlZDogewogICAgdGFibGU6IGZ1bmN0aW9uIHRhYmxlKCkgewogICAgICByZXR1cm4gdGhpcy4kcGFyZW50OwogICAgfQogIH0sCiAgbWV0aG9kczoge30sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBoID0gYXJndW1lbnRzWzBdOwoKICAgIC8vIOiuoeeul+WQhOWIl+aAu+WSjAogICAgZnVuY3Rpb24gcmVuZGVyQ2VsbChfcmVmLCBjb2x1bW5JbmRleCkgewogICAgICB2YXIga2V5ID0gX3JlZi5rZXk7CgogICAgICBpZiAoY29sdW1uSW5kZXggPT09IDApIHsKICAgICAgICByZXR1cm4gdGhpcy50YWJsZS5zdW1UZXh0OwogICAgICB9CgogICAgICB2YXIgcm93cyA9IHRoaXMudGFibGUuYm9keURhdGE7CiAgICAgIHZhciB2YWx1ZXMgPSByb3dzLm1hcChmdW5jdGlvbiAocm93KSB7CiAgICAgICAgcmV0dXJuIE51bWJlcihyb3dba2V5XSk7CiAgICAgIH0pOwogICAgICB2YXIgcHJlY2lzaW9ucyA9IFtdOwogICAgICB2YXIgbm90TnVtYmVyID0gdHJ1ZTsKICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHsKICAgICAgICAgIG5vdE51bWJlciA9IGZhbHNlOwogICAgICAgICAgdmFyIGRlY2ltYWwgPSB2YWx1ZS50b1N0cmluZygpLnNwbGl0KCcuJylbMV07CiAgICAgICAgICBwcmVjaXNpb25zLnB1c2goZGVjaW1hbCA/IGRlY2ltYWwubGVuZ3RoIDogMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIHByZWNpc2lvbiA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHByZWNpc2lvbnMpOwoKICAgICAgaWYgKCFub3ROdW1iZXIpIHsKICAgICAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VycikgewogICAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKGN1cnIpOwoKICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7CiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KChwcmV2ICsgY3VycikudG9GaXhlZChwcmVjaXNpb24pKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICB9LCAwKTsKICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfSAvLyBjbGFzc05hbWUKCgogICAgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKCkgewogICAgICB2YXIgY2xhc3NMaXN0ID0gW107CiAgICAgIGNsYXNzTGlzdC5wdXNoKCIiLmNvbmNhdCh0aGlzLnByZWZpeENscywgIl9fZm9vdGVyLWNlbGwiKSk7CgogICAgICBpZiAodGhpcy50YWJsZS5ib3JkZXIpIHsKICAgICAgICBjbGFzc0xpc3QucHVzaCgiIi5jb25jYXQodGhpcy5wcmVmaXhDbHMsICItLWJvcmRlci1jZWxsIikpOwogICAgICB9CgogICAgICByZXR1cm4gY2xhc3NMaXN0LmpvaW4oJyAnKTsKICAgIH0gLy8gVGVtcGxhdGUKCgogICAgcmV0dXJuIGgoInRhYmxlIiwgewogICAgICAiYXR0cnMiOiB7CiAgICAgICAgImNlbGxzcGFjaW5nIjogIjAiLAogICAgICAgICJjZWxscGFkZGluZyI6ICIwIiwKICAgICAgICAiYm9yZGVyIjogIjAiCiAgICAgIH0sCiAgICAgICJjbGFzcyI6ICIiLmNvbmNhdCh0aGlzLnByZWZpeENscywgIl9fZm9vdGVyIikKICAgIH0sIFtoKCJjb2xncm91cCIsIFt0aGlzLnRhYmxlLnRhYmxlQ29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbikgewogICAgICByZXR1cm4gaCgiY29sIiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJ3aWR0aCI6IGNvbHVtbi5jb21wdXRlZFdpZHRoIHx8IGNvbHVtbi5taW5XaWR0aCB8fCBjb2x1bW4ud2lkdGgKICAgICAgICB9CiAgICAgIH0pOwogICAgfSldKSwgaCgidGZvb3QiLCBbaCgidHIiLCB7CiAgICAgICJjbGFzcyI6ICIiLmNvbmNhdCh0aGlzLnByZWZpeENscywgIl9fZm9vdGVyLXJvdyIpCiAgICB9LCBbdGhpcy50YWJsZS50YWJsZUNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGNvbHVtbkluZGV4KSB7CiAgICAgIHJldHVybiBoKCJ0ZCIsIHsKICAgICAgICAiY2xhc3MiOiBnZXRDbGFzc05hbWUuY2FsbChfdGhpcykKICAgICAgfSwgW2goImRpdiIsIHsKICAgICAgICAiY2xhc3MiOiAiIi5jb25jYXQoX3RoaXMucHJlZml4Q2xzLCAiX19jZWxsLWlubmVyIikKICAgICAgfSwgW190aGlzLnRhYmxlLnN1bW1hcnlNZXRob2QgPyBfdGhpcy50YWJsZS5zdW1tYXJ5TWV0aG9kKF90aGlzLnRhYmxlLmJvZHlEYXRhLCBjb2x1bW4sIGNvbHVtbkluZGV4KSA6IHJlbmRlckNlbGwuY2FsbChfdGhpcywgY29sdW1uLCBjb2x1bW5JbmRleCldKV0pOwogICAgfSldKV0pXSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/my-components/tree-table/Table/TableFooter.js"],"names":["mixins","name","data","computed","table","$parent","methods","render","renderCell","columnIndex","key","sumText","rows","bodyData","values","map","row","Number","precisions","notNumber","forEach","value","isNaN","decimal","toString","split","push","length","precision","Math","max","apply","reduce","prev","curr","parseFloat","toFixed","getClassName","classList","prefixCls","border","join","tableColumns","column","computedWidth","minWidth","width","call","summaryMethod"],"mappings":"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","sourcesContent":["import { mixins } from './utils';\n\n/* eslint-disable no-underscore-dangle */\nexport default {\n  name: 'TreeTable__footer',\n  mixins: [mixins],\n  data() {\n    return {\n\n    };\n  },\n  computed: {\n    table() {\n      return this.$parent;\n    },\n  },\n  methods: {\n\n  },\n  render() {\n    // 计算各列总和\n    function renderCell({ key }, columnIndex) {\n      if (columnIndex === 0) {\n        return this.table.sumText;\n      }\n      const rows = this.table.bodyData;\n      const values = rows.map(row => Number(row[key]));\n      const precisions = [];\n      let notNumber = true;\n      values.forEach((value) => {\n        if (!isNaN(value)) {\n          notNumber = false;\n          const decimal = value.toString().split('.')[1];\n          precisions.push(decimal ? decimal.length : 0);\n        }\n      });\n      const precision = Math.max.apply(null, precisions);\n      if (!notNumber) {\n        return values.reduce((prev, curr) => {\n          const value = Number(curr);\n          if (!isNaN(value)) {\n            return parseFloat((prev + curr).toFixed(precision));\n          }\n          return prev;\n        }, 0);\n      }\n      return '';\n    }\n\n    // className\n    function getClassName() {\n      const classList = [];\n      classList.push(`${this.prefixCls}__footer-cell`);\n      if (this.table.border) {\n        classList.push(`${this.prefixCls}--border-cell`);\n      }\n      return classList.join(' ');\n    }\n\n    // Template\n    return (\n      <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" class={ `${this.prefixCls}__footer` }>\n        <colgroup>\n          { this.table.tableColumns.map(column =>\n            <col width={ column.computedWidth || column.minWidth || column.width }></col>)\n          }\n        </colgroup>\n        <tfoot>\n          <tr class={ `${this.prefixCls}__footer-row` }>\n            { this.table.tableColumns.map((column, columnIndex) =>\n              <td class={ getClassName.call(this) }>\n                <div class={ `${this.prefixCls}__cell-inner` }>\n                  { this.table.summaryMethod\n                    ? this.table.summaryMethod(this.table.bodyData, column, columnIndex)\n                    : renderCell.call(this, column, columnIndex) }\n                </div>\n              </td>)\n            }\n          </tr>\n        </tfoot>\n      </table>\n    );\n  },\n};\n"]}]}