{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/regist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/regist.vue","mtime":1579164402619},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdmFwdGNoYUlELCByZWdpc3QsIHNlbmRSZWdpc3RTbXMgfSBmcm9tICJAL2FwaS9pbmRleCI7CmltcG9ydCB7IHZhbGlkYXRlTW9iaWxlLCB2YWxpZGF0ZVBhc3N3b3JkIH0gZnJvbSAiQC9saWJzL3ZhbGlkYXRlIjsKaW1wb3J0IEhlYWRlciBmcm9tICJAL3ZpZXdzL21haW4tY29tcG9uZW50cy9oZWFkZXIiOwppbXBvcnQgRm9vdGVyIGZyb20gIkAvdmlld3MvbWFpbi1jb21wb25lbnRzL2Zvb3RlciI7CmltcG9ydCBMYW5nU3dpdGNoIGZyb20gIkAvdmlld3MvbWFpbi1jb21wb25lbnRzL2xhbmctc3dpdGNoIjsKaW1wb3J0IENvdW50RG93bkJ1dHRvbiBmcm9tICJAL3ZpZXdzL215LWNvbXBvbmVudHMvc2hhcmUvY291bnQtZG93bi1idXR0b24iOwppbXBvcnQgU2V0UGFzc3dvcmQgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3NoYXJlL3NldC1wYXNzd29yZCI7CnZhciB2YXB0Y2hhT2JqZWN0OwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ291bnREb3duQnV0dG9uOiBDb3VudERvd25CdXR0b24sCiAgICBMYW5nU3dpdGNoOiBMYW5nU3dpdGNoLAogICAgU2V0UGFzc3dvcmQ6IFNldFBhc3N3b3JkLAogICAgSGVhZGVyOiBIZWFkZXIsCiAgICBGb290ZXI6IEZvb3RlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHZhbGlkYXRlQ29uZmlybVBhc3MgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvbmZpcm1QYXNzKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUubGVuZ3RoIDwgNikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5a+G56CB6ZW/5bqm5LiN5b6X5bCP5LqONuS9jSIpKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gX3RoaXMuZm9ybS5wYXNzd29yZCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5Lik5qyh6L6T5YWl55qE5a+G56CB5LiN5LiA6Ie0IikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgZ2V0U21zOiAi6I635Y+W6aqM6K+B56CBIiwKICAgICAgZXJyb3I6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgc2VuZGluZzogZmFsc2UsCiAgICAgIHNlbGVjdDogIjg2IiwKICAgICAgZXJyb3JDb2RlOiAiIiwKICAgICAgZm9ybTogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgY29uZmlybVBhc3M6ICIiLAogICAgICAgIG1vYmlsZTogIiIsCiAgICAgICAgY29kZTogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIui0puWPt+S4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuWvhueggeS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBjb25maXJtUGFzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuehruiupOWvhueggeS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlQ29uZmlybVBhc3MsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBtb2JpbGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLmiYvmnLrlj7fkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZU1vYmlsZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0VmFwdGNoYTogZnVuY3Rpb24gaW5pdFZhcHRjaGEoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFwdGNoYSh7CiAgICAgICAgLy/phY3nva7lj4LmlbAKICAgICAgICB2aWQ6IHZhcHRjaGFJRCwKICAgICAgICAvLyDpqozor4HljZXlhYNpZAogICAgICAgIHR5cGU6ICJpbnZpc2libGUiLAogICAgICAgIC8vIOWxleeOsOexu+WeiyDpmpDol4/lvI8KICAgICAgICBvZmZsaW5lX3NlcnZlcjogIuS9oOeahOemu+e6v+mqjOivgeaOpeWPo+WcsOWdgCDlj6/pgInkvYbmraTlpITkuI3og73kuLrnqboiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhcHRjaGFPYmopIHsKICAgICAgICB2YXB0Y2hhT2JqZWN0ID0gdmFwdGNoYU9iajsKICAgICAgICB2YXB0Y2hhT2JqLmxpc3RlbigicGFzcyIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoYXQuZm9ybS50b2tlbiA9IHZhcHRjaGFPYmouZ2V0VG9rZW4oKTsgLy8g6aqM6K+B5oiQ5YqfIOWPkemAgemqjOivgeeggQoKICAgICAgICAgIHRoYXQuc2VuZFNtc0NvZGUoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tWYXB0Y2hhOiBmdW5jdGlvbiBjaGVja1ZhcHRjaGEoKSB7CiAgICAgIHRoaXMuJHJlZnMucmVnaXN0Rm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhcHRjaGFPYmplY3QudmFsaWRhdGUoKTsgLy8g6Iul5rKh6aqM6K+B6aqM6K+B56CBIOW8gOWni+mqjOivgQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VuZFNtc0NvZGU6IGZ1bmN0aW9uIHNlbmRTbXNDb2RlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2VuZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZ2V0U21zID0gIuWPkemAgeS4rSI7CiAgICAgIHNlbmRSZWdpc3RTbXModGhpcy5mb3JtLm1vYmlsZSwgdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuZ2V0U21zID0gIuiOt+WPlumqjOivgeeggSI7CiAgICAgICAgX3RoaXMyLnNlbmRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczIuJE1lc3NhZ2Uuc3VjY2Vzcygi5Y+R6YCB55+t5L+h6aqM6K+B56CB5oiQ5YqfIik7IC8vIOW8gOWni+WAkuiuoeaXtgoKCiAgICAgICAgICBfdGhpczIuJHJlZnMuY291bnREb3duLnN0YXJ0Q291bnREb3duKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VJbnB1dFBhc3M6IGZ1bmN0aW9uIGNoYW5nZUlucHV0UGFzcyh2LCBncmFkZSwgc3RyZW5ndGgpIHsKICAgICAgdGhpcy5mb3JtLnBhc3NTdHJlbmd0aCA9IHN0cmVuZ3RoOwogICAgfSwKICAgIHN1Ym1pdFJlZ2lzdDogZnVuY3Rpb24gc3VibWl0UmVnaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMucmVnaXN0Rm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICghX3RoaXMzLmZvcm0uY29kZSkgewogICAgICAgICAgICBfdGhpczMuZXJyb3JDb2RlID0gIumqjOivgeeggeS4jeiDveS4uuepuiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy5lcnJvckNvZGUgPSAiIjsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICByZWdpc3QoX3RoaXMzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IF90aGlzMy5mb3JtLnVzZXJuYW1lCiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAicmVnaXN0LXJlc3VsdCIsCiAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXB0Y2hhT2JqZWN0LnJlc2V0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0VmFwdGNoYSgpOwogIH0KfTs="},{"version":3,"sources":["regist.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"regist\">\n    <Row type=\"flex\" justify=\"center\" align=\"middle\" @keydown.enter.native=\"submitRegist\">\n      <Col style=\"width: 368px;\">\n        <Header />\n        <Row>\n          <Form ref=\"registForm\" :model=\"form\" :rules=\"rules\" class=\"form\">\n            <span class=\"regist-title\">注册</span>\n            <FormItem prop=\"username\">\n              <Input\n                v-model=\"form.username\"\n                :maxlength=\"30\"\n                size=\"large\"\n                clearable\n                placeholder=\"请输入用户名\"\n              />\n            </FormItem>\n            <FormItem prop=\"password\">\n              <SetPassword size=\"large\" v-model=\"form.password\" @on-change=\"changeInputPass\" />\n            </FormItem>\n            <FormItem prop=\"confirmPass\">\n              <Input\n                type=\"password\"\n                :maxlength=\"20\"\n                v-model=\"form.confirmPass\"\n                size=\"large\"\n                clearable\n                placeholder=\"请再次输入确认密码\"\n              />\n            </FormItem>\n            <FormItem prop=\"mobile\">\n              <Input v-model=\"form.mobile\" size=\"large\" clearable placeholder=\"请输入手机号\">\n                <Select v-model=\"select\" slot=\"prepend\" style=\"width: 70px\">\n                  <Option value=\"86\">+86</Option>\n                </Select>\n              </Input>\n            </FormItem>\n            <FormItem prop=\"code\" :error=\"errorCode\">\n              <Row type=\"flex\" justify=\"space-between\">\n                <Input\n                  v-model=\"form.code\"\n                  size=\"large\"\n                  clearable\n                  placeholder=\"请输入短信验证码\"\n                  :maxlength=\"10\"\n                  class=\"input-verify\"\n                />\n                <CountDownButton\n                  ref=\"countDown\"\n                  @on-click=\"checkVaptcha\"\n                  :autoCountDown=\"false\"\n                  size=\"large\"\n                  :loading=\"sending\"\n                  :text=\"getSms\"\n                />\n              </Row>\n            </FormItem>\n          </Form>\n          <Row type=\"flex\" justify=\"space-between\">\n            <Button\n              class=\"regist-btn\"\n              type=\"primary\"\n              size=\"large\"\n              :loading=\"loading\"\n              @click=\"submitRegist\"\n            >\n              <span v-if=\"!loading\">注册</span>\n              <span v-else>注册中...</span>\n            </Button>\n            <router-link to=\"/login\">\n              <a class=\"to-login\">使用已有账号登录</a>\n            </router-link>\n          </Row>\n        </Row>\n        <Footer />\n      </Col>\n      <LangSwitch />\n    </Row>\n  </div>\n</template>\n\n<script>\nimport { vaptchaID, regist, sendRegistSms } from \"@/api/index\";\nimport { validateMobile, validatePassword } from \"@/libs/validate\";\nimport Header from \"@/views/main-components/header\";\nimport Footer from \"@/views/main-components/footer\";\nimport LangSwitch from \"@/views/main-components/lang-switch\";\nimport CountDownButton from \"@/views/my-components/share/count-down-button\";\nimport SetPassword from \"@/views/my-components/share/set-password\";\nvar vaptchaObject;\nexport default {\n  components: {\n    CountDownButton,\n    LangSwitch,\n    SetPassword,\n    Header,\n    Footer\n  },\n  data() {\n    const validateConfirmPass = (rule, value, callback) => {\n      if (value.length < 6) {\n        callback(new Error(\"密码长度不得小于6位\"));\n      } else if (value !== this.form.password) {\n        callback(new Error(\"两次输入的密码不一致\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      getSms: \"获取验证码\",\n      error: false,\n      loading: false,\n      sending: false,\n      select: \"86\",\n      errorCode: \"\",\n      form: {\n        username: \"\",\n        password: \"\",\n        confirmPass: \"\",\n        mobile: \"\",\n        code: \"\"\n      },\n      rules: {\n        username: [\n          {\n            required: true,\n            message: \"账号不能为空\",\n            trigger: \"blur\"\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: \"密码不能为空\",\n            trigger: \"blur\"\n          },\n          {\n            validator: validatePassword,\n            trigger: \"blur\"\n          }\n        ],\n        confirmPass: [\n          {\n            required: true,\n            message: \"确认密码不能为空\",\n            trigger: \"blur\"\n          },\n          {\n            validator: validateConfirmPass,\n            trigger: \"blur\"\n          }\n        ],\n        mobile: [\n          {\n            required: true,\n            message: \"手机号不能为空\",\n            trigger: \"blur\"\n          },\n          {\n            validator: validateMobile,\n            trigger: \"blur\"\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    initVaptcha() {\n      let that = this;\n      vaptcha({\n        //配置参数\n        vid: vaptchaID, // 验证单元id\n        type: \"invisible\", // 展现类型 隐藏式\n        offline_server: \"你的离线验证接口地址 可选但此处不能为空\"\n      }).then(function(vaptchaObj) {\n        vaptchaObject = vaptchaObj;\n        vaptchaObj.listen(\"pass\", function() {\n          that.form.token = vaptchaObj.getToken();\n          // 验证成功 发送验证码\n          that.sendSmsCode();\n        });\n      });\n    },\n    checkVaptcha() {\n      this.$refs.registForm.validate(valid => {\n        if (valid) {\n          vaptchaObject.validate(); // 若没验证验证码 开始验证\n        }\n      });\n    },\n    sendSmsCode() {\n      this.sending = true;\n      this.getSms = \"发送中\";\n      sendRegistSms(this.form.mobile, this.form).then(res => {\n        this.getSms = \"获取验证码\";\n        this.sending = false;\n        if (res.success) {\n          this.$Message.success(\"发送短信验证码成功\");\n          // 开始倒计时\n          this.$refs.countDown.startCountDown();\n        }\n      });\n    },\n    changeInputPass(v, grade, strength) {\n      this.form.passStrength = strength;\n    },\n    submitRegist() {\n      this.$refs.registForm.validate(valid => {\n        if (valid) {\n          if (!this.form.code) {\n            this.errorCode = \"验证码不能为空\";\n            return;\n          } else {\n            this.errorCode = \"\";\n          }\n          this.loading = true;\n          regist(this.form).then(res => {\n            this.loading = false;\n            if (res.success) {\n              let query = {\n                username: this.form.username\n              };\n              this.$router.push({\n                name: \"regist-result\",\n                query: query\n              });\n            } else {\n              vaptchaObject.reset();\n            }\n          });\n        }\n      });\n    }\n  },\n  mounted() {\n    this.initVaptcha();\n  }\n};\n</script>\n\n<style lang=\"less\">\n@import \"./regist.less\";\n</style>\n"],"sourceRoot":"src/views"}]}