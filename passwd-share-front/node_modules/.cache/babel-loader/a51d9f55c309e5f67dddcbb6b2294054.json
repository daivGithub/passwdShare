{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/activiti/category-manage/categoryManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/activiti/category-manage/categoryManage.vue","mtime":1577168504900},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgaW5pdEFjdENhdGVnb3J5LCBsb2FkQWN0Q2F0ZWdvcnksIGFkZEFjdENhdGVnb3J5LCBlZGl0QWN0Q2F0ZWdvcnksIGRlbGV0ZUFjdENhdGVnb3J5LCBzZWFyY2hBY3RDYXRlZ29yeSB9IGZyb20gIkAvYXBpL2FjdGl2aXRpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjYXRlZ29yeS1tYW5hZ2UiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdHJpY3Q6IHRydWUsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGxvYWRpbmdFZGl0OiB0cnVlLAogICAgICBtb2RhbFZpc2libGU6IGZhbHNlLAogICAgICBzZWxlY3RMaXN0OiBbXSwKICAgICAgc2VsZWN0Q291bnQ6IDAsCiAgICAgIHNob3dQYXJlbnQ6IGZhbHNlLAogICAgICBtb2RhbFRpdGxlOiAiIiwKICAgICAgZWRpdFRpdGxlOiAiIiwKICAgICAgc2VhcmNoS2V5OiAiIiwKICAgICAgZm9ybTogewogICAgICAgIGlkOiAiIiwKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgcGFyZW50SWQ6ICIiLAogICAgICAgIHBhcmVudFRpdGxlOiAiIiwKICAgICAgICB0eXBlOiBudWxsLAogICAgICAgIHNvcnRPcmRlcjogMCwKICAgICAgICBzdGF0dXM6IDAsCiAgICAgICAgdXJsOiAiIgogICAgICB9LAogICAgICBmb3JtQWRkOiB7CiAgICAgICAgdHlwZTogbnVsbAogICAgICB9LAogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuWQjeensOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICB0eXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi57G75Z6L5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHNvcnRPcmRlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgICBtZXNzYWdlOiAi5o6S5bqP5YC85LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHN1Ym1pdExvYWRpbmc6IGZhbHNlLAogICAgICBkYXRhOiBbXSwKICAgICAgZGF0YUVkaXQ6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdGhpcy5nZXRQYXJlbnRMaXN0KCk7CiAgICAgIHRoaXMuZ2V0UGFyZW50TGlzdEVkaXQoKTsKICAgIH0sCiAgICByZW5kZXJDb250ZW50OiBmdW5jdGlvbiByZW5kZXJDb250ZW50KGgsIF9yZWYpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciByb290ID0gX3JlZi5yb290LAogICAgICAgICAgbm9kZSA9IF9yZWYubm9kZSwKICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgIHZhciBpY29uID0gIiI7CgogICAgICBpZiAoZGF0YS50eXBlID09ICIwIikgewogICAgICAgIGljb24gPSAibWQtZm9sZGVyLW9wZW4iOwogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSAiMSIpIHsKICAgICAgICBpY29uID0gImlvcy1ib29rbWFyay1vdXRsaW5lIjsKICAgICAgfQoKICAgICAgcmV0dXJuIGgoInNwYW4iLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAogICAgICAgICAgY3Vyc29yOiAicG9pbnRlciIKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzLnNlbGVjdFRyZWUoZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBbaCgic3BhbiIsIFtoKCJJY29uIiwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICB0eXBlOiBpY29uLAogICAgICAgICAgc2l6ZTogIjE2IgogICAgICAgIH0sCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICJtYXJnaW4tcmlnaHQiOiAiOHB4IiwKICAgICAgICAgICJtYXJnaW4tYm90dG9tIjogIjNweCIKICAgICAgICB9CiAgICAgIH0pLCBoKCJzcGFuIiwgewogICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAiaXZ1LXRyZWUtdGl0bGUiOiB0cnVlLAogICAgICAgICAgIml2dS10cmVlLXRpdGxlLXNlbGVjdGVkIjogZGF0YS5pZCA9PSB0aGlzLmZvcm0uaWQKICAgICAgICB9CiAgICAgIH0sIGRhdGEudGl0bGUpXSldKTsKICAgIH0sCiAgICBnZXRQYXJlbnRMaXN0OiBmdW5jdGlvbiBnZXRQYXJlbnRMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGluaXRBY3RDYXRlZ29yeSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgcmVzLnJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChlLmlzUGFyZW50KSB7CiAgICAgICAgICAgICAgZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgZS5jaGlsZHJlbiA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMi5kYXRhID0gcmVzLnJlc3VsdDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFBhcmVudExpc3RFZGl0OiBmdW5jdGlvbiBnZXRQYXJlbnRMaXN0RWRpdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmdFZGl0ID0gdHJ1ZTsKICAgICAgaW5pdEFjdENhdGVnb3J5KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLmxvYWRpbmdFZGl0ID0gZmFsc2U7CgogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgcmVzLnJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChlLmlzUGFyZW50KSB7CiAgICAgICAgICAgICAgZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgZS5jaGlsZHJlbiA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsgLy8g5aS06YOo5Yqg5YWl5LiA57qnCgogICAgICAgICAgdmFyIGZpcnN0ID0gewogICAgICAgICAgICBpZDogIjAiLAogICAgICAgICAgICB0aXRsZTogIuS4gOe6p+iKgueCuSIKICAgICAgICAgIH07CiAgICAgICAgICByZXMucmVzdWx0LnVuc2hpZnQoZmlyc3QpOwogICAgICAgICAgX3RoaXMzLmRhdGFFZGl0ID0gcmVzLnJlc3VsdDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YShpdGVtLCBjYWxsYmFjaykgewogICAgICBsb2FkQWN0Q2F0ZWdvcnkoaXRlbS5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICByZXMucmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUuaXNQYXJlbnQpIHsKICAgICAgICAgICAgICBlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICBlLmNoaWxkcmVuID0gW107CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgY2FsbGJhY2socmVzLnJlc3VsdCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5zZWFyY2hLZXkpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIHNlYXJjaEFjdENhdGVnb3J5KHsKICAgICAgICAgIHRpdGxlOiB0aGlzLnNlYXJjaEtleQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM0LmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgX3RoaXM0LmRhdGEgPSByZXMucmVzdWx0OwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0UGFyZW50TGlzdCgpOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0VHJlZTogZnVuY3Rpb24gc2VsZWN0VHJlZSh2KSB7CiAgICAgIGlmICh2ICYmIHYuaWQgIT0gdGhpcy5mb3JtLmlkKSB7CiAgICAgICAgLy8g6L2s5o2ibnVsbOS4uiIiCiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiB2KSB7CiAgICAgICAgICBpZiAodlthdHRyXSA9PSBudWxsKSB7CiAgICAgICAgICAgIHZbYXR0cl0gPSAiIjsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzdHIgPSBKU09OLnN0cmluZ2lmeSh2KTsKICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTsKICAgICAgICBkYXRhLnR5cGUgKz0gIiI7CiAgICAgICAgdGhpcy5mb3JtID0gZGF0YTsKICAgICAgICB0aGlzLmVkaXRUaXRsZSA9IGRhdGEudGl0bGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jYW5jZWxFZGl0KCk7CiAgICAgIH0KICAgIH0sCiAgICBjYW5jZWxFZGl0OiBmdW5jdGlvbiBjYW5jZWxFZGl0KCkgewogICAgICB2YXIgZGF0YSA9IHRoaXMuJHJlZnMudHJlZS5nZXRTZWxlY3RlZE5vZGVzKClbMF07CgogICAgICBpZiAoZGF0YSkgewogICAgICAgIGRhdGEuc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuZm9ybS5pZCA9ICIiOwogICAgICBkZWxldGUgdGhpcy5mb3JtLmlkOwogICAgICB0aGlzLmVkaXRUaXRsZSA9ICIiOwogICAgfSwKICAgIHNlbGVjdFRyZWVFZGl0OiBmdW5jdGlvbiBzZWxlY3RUcmVlRWRpdCh2KSB7CiAgICAgIGlmICh2KSB7CiAgICAgICAgLy8g6L2s5o2ibnVsbOS4uiIiCiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiB2WzBdKSB7CiAgICAgICAgICBpZiAodlswXVthdHRyXSA9PSBudWxsKSB7CiAgICAgICAgICAgIHZbMF1bYXR0cl0gPSAiIjsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzdHIgPSBKU09OLnN0cmluZ2lmeSh2WzBdKTsKICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTsKICAgICAgICB0aGlzLmZvcm0ucGFyZW50SWQgPSBkYXRhLmlkOwogICAgICAgIHRoaXMuZm9ybS5wYXJlbnRUaXRsZSA9IGRhdGEudGl0bGU7CiAgICAgIH0KICAgIH0sCiAgICBjYW5jZWxBZGQ6IGZ1bmN0aW9uIGNhbmNlbEFkZCgpIHsKICAgICAgdGhpcy5tb2RhbFZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVSZXNldDogZnVuY3Rpb24gaGFuZGxlUmVzZXQoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLmZvcm0uc3RhdHVzID0gMDsKICAgIH0sCiAgICBzdWJtaXRFZGl0OiBmdW5jdGlvbiBzdWJtaXRFZGl0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICghX3RoaXM1LmZvcm0uaWQpIHsKICAgICAgICAgICAgX3RoaXM1LiRNZXNzYWdlLndhcm5pbmcoIuivt+WFiOeCueWHu+mAieaLqeimgeS/ruaUueeahOiKgueCuSIpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNS5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGVkaXRBY3RDYXRlZ29yeShfdGhpczUuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzNS5zdWJtaXRMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICBfdGhpczUuJE1lc3NhZ2Uuc3VjY2Vzcygi57yW6L6R5oiQ5YqfIik7CgogICAgICAgICAgICAgIF90aGlzNS5pbml0KCk7CgogICAgICAgICAgICAgIF90aGlzNS5tb2RhbFZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRBZGQ6IGZ1bmN0aW9uIHN1Ym1pdEFkZCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmZvcm1BZGQudmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczYuc3VibWl0TG9hZGluZyA9IHRydWU7CiAgICAgICAgICBhZGRBY3RDYXRlZ29yeShfdGhpczYuZm9ybUFkZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzNi5zdWJtaXRMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICBfdGhpczYuJE1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg5oiQ5YqfIik7CgogICAgICAgICAgICAgIF90aGlzNi5pbml0KCk7CgogICAgICAgICAgICAgIF90aGlzNi5tb2RhbFZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgaWYgKHRoaXMuZm9ybS5pZCA9PSAiIiB8fCB0aGlzLmZvcm0uaWQgPT0gbnVsbCkgewogICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi6K+35YWI54K55Ye76YCJ5oup5LiA5Liq6IqC54K5Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLm1vZGFsVGl0bGUgPSAi5re75Yqg5a2Q57G75YirIjsKICAgICAgdGhpcy5zaG93UGFyZW50ID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtQWRkID0gewogICAgICAgIHBhcmVudElkOiB0aGlzLmZvcm0uaWQsCiAgICAgICAgc29ydE9yZGVyOiAwLAogICAgICAgIHN0YXR1czogMCwKICAgICAgICB0eXBlOiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMubW9kYWxWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBhZGRSb290OiBmdW5jdGlvbiBhZGRSb290KCkgewogICAgICB0aGlzLm1vZGFsVGl0bGUgPSAi5re75Yqg5LiA57qn57G75YirIjsKICAgICAgdGhpcy5zaG93UGFyZW50ID0gZmFsc2U7CiAgICAgIHRoaXMuZm9ybUFkZCA9IHsKICAgICAgICBwYXJlbnRJZDogMCwKICAgICAgICBzb3J0T3JkZXI6IDAsCiAgICAgICAgc3RhdHVzOiAwLAogICAgICAgIHR5cGU6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5tb2RhbFZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGNoYW5nZVNlbGVjdDogZnVuY3Rpb24gY2hhbmdlU2VsZWN0KHYpIHsKICAgICAgdGhpcy5zZWxlY3RDb3VudCA9IHYubGVuZ3RoOwogICAgICB0aGlzLnNlbGVjdExpc3QgPSB2OwogICAgfSwKICAgIGRlbEFsbDogZnVuY3Rpb24gZGVsQWxsKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlbGVjdENvdW50IDw9IDApIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuaCqOi/mOacquWLvumAieimgeWIoOmZpOeahOaVsOaNriIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7CiAgICAgICAgdGl0bGU6ICLnoa7orqTliKDpmaQiLAogICAgICAgIGNvbnRlbnQ6ICLmgqjnoa7orqTopoHliKDpmaTmiYDpgInnmoQgIiArIHRoaXMuc2VsZWN0Q291bnQgKyAiIOadoeaVsOaNruWPiuWFtuS4i+e6p+aJgOacieaVsOaNrj8iLAogICAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgICAgb25PazogZnVuY3Rpb24gb25PaygpIHsKICAgICAgICAgIHZhciBpZHMgPSAiIjsKCiAgICAgICAgICBfdGhpczcuc2VsZWN0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlkcyArPSBlLmlkICsgIiwiOwogICAgICAgICAgfSk7CgogICAgICAgICAgaWRzID0gaWRzLnN1YnN0cmluZygwLCBpZHMubGVuZ3RoIC0gMSk7CiAgICAgICAgICBkZWxldGVBY3RDYXRlZ29yeShpZHMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczcuJE1vZGFsLnJlbW92ZSgpOwoKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgX3RoaXM3LiRNZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwoKICAgICAgICAgICAgICBfdGhpczcuc2VsZWN0TGlzdCA9IFtdOwogICAgICAgICAgICAgIF90aGlzNy5zZWxlY3RDb3VudCA9IDA7CgogICAgICAgICAgICAgIF90aGlzNy5jYW5jZWxFZGl0KCk7CgogICAgICAgICAgICAgIF90aGlzNy5pbml0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["categoryManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA,SACA,eADA,EAEA,eAFA,EAGA,cAHA,EAIA,eAJA,EAKA,iBALA,EAMA,iBANA,QAOA,gBAPA;AAQA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,WAAA,EAAA,IAHA;AAIA,MAAA,YAAA,EAAA,KAJA;AAKA,MAAA,UAAA,EAAA,EALA;AAMA,MAAA,WAAA,EAAA,CANA;AAOA,MAAA,UAAA,EAAA,KAPA;AAQA,MAAA,UAAA,EAAA,EARA;AASA,MAAA,SAAA,EAAA,EATA;AAUA,MAAA,SAAA,EAAA,EAVA;AAWA,MAAA,IAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA,EAHA;AAIA,QAAA,WAAA,EAAA,EAJA;AAKA,QAAA,IAAA,EAAA,IALA;AAMA,QAAA,SAAA,EAAA,CANA;AAOA,QAAA,MAAA,EAAA,CAPA;AAQA,QAAA,GAAA,EAAA;AARA,OAXA;AAqBA,MAAA,OAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA,OArBA;AAwBA,MAAA,YAAA,EAAA;AACA,QAAA,KAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,IAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CAFA;AAGA,QAAA,SAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,IAAA,EAAA,QAFA;AAGA,UAAA,OAAA,EAAA,SAHA;AAIA,UAAA,OAAA,EAAA;AAJA,SADA;AAHA,OAxBA;AAoCA,MAAA,aAAA,EAAA,KApCA;AAqCA,MAAA,IAAA,EAAA,EArCA;AAsCA,MAAA,QAAA,EAAA;AAtCA,KAAA;AAwCA,GA3CA;AA4CA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,aAAA;AACA,WAAA,iBAAA;AACA,KAJA;AAKA,IAAA,aALA,yBAKA,CALA,QAKA;AAAA;;AAAA,UAAA,IAAA,QAAA,IAAA;AAAA,UAAA,IAAA,QAAA,IAAA;AAAA,UAAA,IAAA,QAAA,IAAA;AACA,UAAA,IAAA,GAAA,EAAA;;AACA,UAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,QAAA,IAAA,GAAA,gBAAA;AACA,OAFA,MAEA,IAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,QAAA,IAAA,GAAA,sBAAA;AACA;;AACA,aAAA,CAAA,CACA,MADA,EAEA;AACA,QAAA,KAAA,EAAA;AACA,UAAA,OAAA,EAAA,cADA;AAEA,UAAA,MAAA,EAAA;AAFA,SADA;AAKA,QAAA,EAAA,EAAA;AACA,UAAA,KAAA,EAAA,iBAAA;AACA,YAAA,KAAA,CAAA,UAAA,CAAA,IAAA;AACA;AAHA;AALA,OAFA,EAaA,CACA,CAAA,CAAA,MAAA,EAAA,CACA,CAAA,CAAA,MAAA,EAAA;AACA,QAAA,KAAA,EAAA;AACA,UAAA,IAAA,EAAA,IADA;AAEA,UAAA,IAAA,EAAA;AAFA,SADA;AAKA,QAAA,KAAA,EAAA;AACA,0BAAA,KADA;AAEA,2BAAA;AAFA;AALA,OAAA,CADA,EAWA,CAAA,CACA,MADA,EAEA;AACA,QAAA,KAAA,EAAA;AACA,4BAAA,IADA;AAEA,qCAAA,IAAA,CAAA,EAAA,IAAA,KAAA,IAAA,CAAA;AAFA;AADA,OAFA,EAQA,IAAA,CAAA,KARA,CAXA,CAAA,CADA,CAbA,CAAA;AAsCA,KAlDA;AAmDA,IAAA,aAnDA,2BAmDA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,eAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,GAAA,CAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,CAAA,CAAA,QAAA,EAAA;AACA,cAAA,CAAA,CAAA,OAAA,GAAA,KAAA;AACA,cAAA,CAAA,CAAA,QAAA,GAAA,EAAA;AACA;AACA,WALA;AAMA,UAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,MAAA;AACA;AACA,OAXA;AAYA,KAjEA;AAkEA,IAAA,iBAlEA,+BAkEA;AAAA;;AACA,WAAA,WAAA,GAAA,IAAA;AACA,MAAA,eAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,GAAA,KAAA;;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,GAAA,CAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,CAAA,CAAA,QAAA,EAAA;AACA,cAAA,CAAA,CAAA,OAAA,GAAA,KAAA;AACA,cAAA,CAAA,CAAA,QAAA,GAAA,EAAA;AACA;AACA,WALA,EADA,CAOA;;AACA,cAAA,KAAA,GAAA;AACA,YAAA,EAAA,EAAA,GADA;AAEA,YAAA,KAAA,EAAA;AAFA,WAAA;AAIA,UAAA,GAAA,CAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,UAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,MAAA;AACA;AACA,OAjBA;AAkBA,KAtFA;AAuFA,IAAA,QAvFA,oBAuFA,IAvFA,EAuFA,QAvFA,EAuFA;AACA,MAAA,eAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,GAAA,CAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,CAAA,CAAA,QAAA,EAAA;AACA,cAAA,CAAA,CAAA,OAAA,GAAA,KAAA;AACA,cAAA,CAAA,CAAA,QAAA,GAAA,EAAA;AACA;AACA,WALA;AAMA,UAAA,QAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AACA;AACA,OAVA;AAWA,KAnGA;AAoGA,IAAA,MApGA,oBAoGA;AAAA;;AACA,UAAA,KAAA,SAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA,QAAA,iBAAA,CAAA;AAAA,UAAA,KAAA,EAAA,KAAA;AAAA,SAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,cAAA,GAAA,CAAA,OAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,MAAA;AACA;AACA,SALA;AAMA,OARA,MAQA;AACA,aAAA,aAAA;AACA;AACA,KAhHA;AAiHA,IAAA,UAjHA,sBAiHA,CAjHA,EAiHA;AACA,UAAA,CAAA,IAAA,CAAA,CAAA,EAAA,IAAA,KAAA,IAAA,CAAA,EAAA,EAAA;AACA;AACA,aAAA,IAAA,IAAA,IAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,IAAA,CAAA,IAAA,IAAA,EAAA;AACA,YAAA,CAAA,CAAA,IAAA,CAAA,GAAA,EAAA;AACA;AACA;;AACA,YAAA,GAAA,GAAA,IAAA,CAAA,SAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,QAAA,IAAA,CAAA,IAAA,IAAA,EAAA;AACA,aAAA,IAAA,GAAA,IAAA;AACA,aAAA,SAAA,GAAA,IAAA,CAAA,KAAA;AACA,OAZA,MAYA;AACA,aAAA,UAAA;AACA;AACA,KAjIA;AAkIA,IAAA,UAlIA,wBAkIA;AACA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,gBAAA,GAAA,CAAA,CAAA;;AACA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,QAAA,GAAA,KAAA;AACA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,WAAA;AACA,WAAA,IAAA,CAAA,EAAA,GAAA,EAAA;AACA,aAAA,KAAA,IAAA,CAAA,EAAA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,KA3IA;AA4IA,IAAA,cA5IA,0BA4IA,CA5IA,EA4IA;AACA,UAAA,CAAA,EAAA;AACA;AACA,aAAA,IAAA,IAAA,IAAA,CAAA,CAAA,CAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,KAAA,IAAA,EAAA;AACA,YAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,IAAA,EAAA;AACA;AACA;;AACA,YAAA,GAAA,GAAA,IAAA,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,aAAA,IAAA,CAAA,QAAA,GAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,WAAA,GAAA,IAAA,CAAA,KAAA;AACA;AACA,KAzJA;AA0JA,IAAA,SA1JA,uBA0JA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KA5JA;AA6JA,IAAA,WA7JA,yBA6JA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,WAAA;AACA,WAAA,IAAA,CAAA,MAAA,GAAA,CAAA;AACA,KAhKA;AAiKA,IAAA,UAjKA,wBAiKA;AAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,cAAA;;AACA;AACA;;AACA,UAAA,MAAA,CAAA,aAAA,GAAA,IAAA;AACA,UAAA,eAAA,CAAA,MAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,aAAA,GAAA,KAAA;;AACA,gBAAA,GAAA,CAAA,OAAA,EAAA;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,cAAA,MAAA,CAAA,IAAA;;AACA,cAAA,MAAA,CAAA,YAAA,GAAA,KAAA;AACA;AACA,WAPA;AAQA;AACA,OAhBA;AAiBA,KAnLA;AAoLA,IAAA,SApLA,uBAoLA;AAAA;;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,aAAA,GAAA,IAAA;AACA,UAAA,cAAA,CAAA,MAAA,CAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,aAAA,GAAA,KAAA;;AACA,gBAAA,GAAA,CAAA,OAAA,EAAA;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,cAAA,MAAA,CAAA,IAAA;;AACA,cAAA,MAAA,CAAA,YAAA,GAAA,KAAA;AACA;AACA,WAPA;AAQA;AACA,OAZA;AAaA,KAlMA;AAmMA,IAAA,GAnMA,iBAmMA;AACA,UAAA,KAAA,IAAA,CAAA,EAAA,IAAA,EAAA,IAAA,KAAA,IAAA,CAAA,EAAA,IAAA,IAAA,EAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,YAAA;AACA;AACA;;AACA,WAAA,UAAA,GAAA,OAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,OAAA,GAAA;AACA,QAAA,QAAA,EAAA,KAAA,IAAA,CAAA,EADA;AAEA,QAAA,SAAA,EAAA,CAFA;AAGA,QAAA,MAAA,EAAA,CAHA;AAIA,QAAA,IAAA,EAAA;AAJA,OAAA;AAMA,WAAA,YAAA,GAAA,IAAA;AACA,KAjNA;AAkNA,IAAA,OAlNA,qBAkNA;AACA,WAAA,UAAA,GAAA,QAAA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,WAAA,OAAA,GAAA;AACA,QAAA,QAAA,EAAA,CADA;AAEA,QAAA,SAAA,EAAA,CAFA;AAGA,QAAA,MAAA,EAAA,CAHA;AAIA,QAAA,IAAA,EAAA;AAJA,OAAA;AAMA,WAAA,YAAA,GAAA,IAAA;AACA,KA5NA;AA6NA,IAAA,YA7NA,wBA6NA,CA7NA,EA6NA;AACA,WAAA,WAAA,GAAA,CAAA,CAAA,MAAA;AACA,WAAA,UAAA,GAAA,CAAA;AACA,KAhOA;AAiOA,IAAA,MAjOA,oBAiOA;AAAA;;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,aAAA;AACA;AACA;;AACA,WAAA,MAAA,CAAA,OAAA,CAAA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,OAAA,EACA,eAAA,KAAA,WAAA,GAAA,eAHA;AAIA,QAAA,OAAA,EAAA,IAJA;AAKA,QAAA,IAAA,EAAA,gBAAA;AACA,cAAA,GAAA,GAAA,EAAA;;AACA,UAAA,MAAA,CAAA,UAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,GAAA,IAAA,CAAA,CAAA,EAAA,GAAA,GAAA;AACA,WAFA;;AAGA,UAAA,GAAA,GAAA,GAAA,CAAA,SAAA,CAAA,CAAA,EAAA,GAAA,CAAA,MAAA,GAAA,CAAA,CAAA;AACA,UAAA,iBAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,MAAA;;AACA,gBAAA,GAAA,CAAA,OAAA,EAAA;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,cAAA,MAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,MAAA,CAAA,WAAA,GAAA,CAAA;;AACA,cAAA,MAAA,CAAA,UAAA;;AACA,cAAA,MAAA,CAAA,IAAA;AACA;AACA,WATA;AAUA;AArBA,OAAA;AAuBA;AA7PA,GA5CA;AA2SA,EAAA,OA3SA,qBA2SA;AACA,SAAA,IAAA;AACA;AA7SA,CAAA","sourcesContent":["<style lang=\"less\">\n@import \"../../../styles/tree-common.less\";\n@import \"./categoryManage.less\";\n</style>\n<template>\n  <div class=\"search\">\n    <Card>\n      <Row class=\"operation\">\n        <Button @click=\"add\" type=\"primary\" icon=\"md-add\">添加子类别</Button>\n        <Button @click=\"addRoot\" icon=\"md-add\">添加一级类别</Button>\n        <Button @click=\"delAll\" icon=\"md-trash\">批量删除</Button>\n        <Button @click=\"getParentList\" icon=\"md-refresh\">刷新</Button>\n        <i-switch v-model=\"strict\" size=\"large\" style=\"margin-left:5px\">\n          <span slot=\"open\">级联</span>\n          <span slot=\"close\">单选</span>\n        </i-switch>\n      </Row>\n      <Row type=\"flex\" justify=\"start\">\n        <Col :md=\"8\" :lg=\"8\" :xl=\"6\">\n          <Alert show-icon>\n            当前选择编辑：\n            <span class=\"select-title\">{{editTitle}}</span>\n            <a class=\"select-clear\" v-if=\"form.id\" @click=\"cancelEdit\">取消选择</a>\n          </Alert>\n          <Input\n            v-model=\"searchKey\"\n            suffix=\"ios-search\"\n            @on-change=\"search\"\n            placeholder=\"输入节点名搜索\"\n            clearable\n          />\n          <div class=\"tree-bar\">\n            <Tree\n              ref=\"tree\"\n              :data=\"data\"\n              :load-data=\"loadData\"\n              :render=\"renderContent\"\n              show-checkbox\n              @on-check-change=\"changeSelect\"\n              @on-select-change=\"selectTree\"\n              :check-strictly=\"!strict\"\n            ></Tree>\n            <Spin size=\"large\" fix v-if=\"loading\"></Spin>\n          </div>\n        </Col>\n        <Col :md=\"15\" :lg=\"13\" :xl=\"9\" style=\"margin-left:10px;\">\n          <Form ref=\"form\" :model=\"form\" :label-width=\"85\" :rules=\"formValidate\">\n            <FormItem label=\"上级节点\" prop=\"parentTitle\">\n              <div style=\"display:flex;\">\n                <Input v-model=\"form.parentTitle\" readonly style=\"margin-right:10px;\" />\n                <Poptip transfer trigger=\"click\" placement=\"right-start\" title=\"选择上级节点\" width=\"250\">\n                  <Button icon=\"md-list\">选择分类</Button>\n                  <div slot=\"content\" style=\"position:relative;min-height:5vh\">\n                    <Tree :data=\"dataEdit\" :load-data=\"loadData\" @on-select-change=\"selectTreeEdit\"></Tree>\n                    <Spin size=\"large\" fix v-if=\"loadingEdit\"></Spin>\n                  </div>\n                </Poptip>\n              </div>\n            </FormItem>\n            <FormItem label=\"节点类型\" prop=\"type\">\n              <Select v-model=\"form.type\" placeholder=\"请选择\" clearable>\n                <Option value=\"0\">分组</Option>\n                <Option value=\"1\">类别</Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"类别名称\" prop=\"title\">\n              <Input v-model=\"form.title\" />\n            </FormItem>\n            <FormItem label=\"排序值\" prop=\"sortOrder\">\n              <Tooltip trigger=\"hover\" placement=\"right\" content=\"值越小越靠前，支持小数\">\n                <InputNumber :max=\"1000\" :min=\"0\" v-model=\"form.sortOrder\"></InputNumber>\n              </Tooltip>\n            </FormItem>\n            <FormItem label=\"是否启用\" prop=\"status\">\n              <i-switch size=\"large\" v-model=\"form.status\" :true-value=\"0\" :false-value=\"-1\">\n                <span slot=\"open\">启用</span>\n                <span slot=\"close\">禁用</span>\n              </i-switch>\n            </FormItem>\n            <Form-item>\n              <Button\n                style=\"margin-right:5px\"\n                @click=\"submitEdit\"\n                :loading=\"submitLoading\"\n                type=\"primary\"\n                icon=\"ios-create-outline\"\n              >修改并保存</Button>\n              <Button @click=\"handleReset\">重置</Button>\n            </Form-item>\n          </Form>\n        </Col>\n      </Row>\n    </Card>\n\n    <Modal :title=\"modalTitle\" v-model=\"modalVisible\" :mask-closable=\"false\" :width=\"500\">\n      <Form ref=\"formAdd\" :model=\"formAdd\" :label-width=\"85\" :rules=\"formValidate\">\n        <div v-if=\"showParent\">\n          <FormItem label=\"上级节点：\">{{form.title}}</FormItem>\n        </div>\n        <FormItem label=\"节点类型\" prop=\"type\">\n          <Select v-model=\"formAdd.type\" placeholder=\"请选择\" clearable>\n            <Option value=\"0\">分组</Option>\n            <Option value=\"1\">类别</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"类别名称\" prop=\"title\">\n          <Input v-model=\"formAdd.title\" />\n        </FormItem>\n        <FormItem label=\"排序值\" prop=\"sortOrder\">\n          <Tooltip trigger=\"hover\" placement=\"right\" content=\"值越小越靠前，支持小数\">\n            <InputNumber :max=\"1000\" :min=\"0\" v-model=\"formAdd.sortOrder\"></InputNumber>\n          </Tooltip>\n        </FormItem>\n        <FormItem label=\"是否启用\" prop=\"status\">\n          <i-switch size=\"large\" v-model=\"formAdd.status\" :true-value=\"0\" :false-value=\"-1\">\n            <span slot=\"open\">启用</span>\n            <span slot=\"close\">禁用</span>\n          </i-switch>\n        </FormItem>\n      </Form>\n      <div slot=\"footer\">\n        <Button type=\"text\" @click=\"cancelAdd\">取消</Button>\n        <Button type=\"primary\" :loading=\"submitLoading\" @click=\"submitAdd\">提交</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport {\n  initActCategory,\n  loadActCategory,\n  addActCategory,\n  editActCategory,\n  deleteActCategory,\n  searchActCategory\n} from \"@/api/activiti\";\nexport default {\n  name: \"category-manage\",\n  data() {\n    return {\n      strict: true,\n      loading: true,\n      loadingEdit: true,\n      modalVisible: false,\n      selectList: [],\n      selectCount: 0,\n      showParent: false,\n      modalTitle: \"\",\n      editTitle: \"\",\n      searchKey: \"\",\n      form: {\n        id: \"\",\n        title: \"\",\n        parentId: \"\",\n        parentTitle: \"\",\n        type: null,\n        sortOrder: 0,\n        status: 0,\n        url: \"\"\n      },\n      formAdd: {\n        type: null\n      },\n      formValidate: {\n        title: [{ required: true, message: \"名称不能为空\", trigger: \"blur\" }],\n        type: [{ required: true, message: \"类型不能为空\", trigger: \"blur\" }],\n        sortOrder: [\n          {\n            required: true,\n            type: \"number\",\n            message: \"排序值不能为空\",\n            trigger: \"blur\"\n          }\n        ]\n      },\n      submitLoading: false,\n      data: [],\n      dataEdit: []\n    };\n  },\n  methods: {\n    init() {\n      this.getParentList();\n      this.getParentListEdit();\n    },\n    renderContent(h, { root, node, data }) {\n      let icon = \"\";\n      if (data.type == \"0\") {\n        icon = \"md-folder-open\";\n      } else if (data.type == \"1\") {\n        icon = \"ios-bookmark-outline\";\n      }\n      return h(\n        \"span\",\n        {\n          style: {\n            display: \"inline-block\",\n            cursor: \"pointer\"\n          },\n          on: {\n            click: () => {\n              this.selectTree(data);\n            }\n          }\n        },\n        [\n          h(\"span\", [\n            h(\"Icon\", {\n              props: {\n                type: icon,\n                size: \"16\"\n              },\n              style: {\n                \"margin-right\": \"8px\",\n                \"margin-bottom\": \"3px\"\n              }\n            }),\n            h(\n              \"span\",\n              {\n                class: {\n                  \"ivu-tree-title\": true,\n                  \"ivu-tree-title-selected\": data.id == this.form.id\n                }\n              },\n              data.title\n            )\n          ])\n        ]\n      );\n    },\n    getParentList() {\n      this.loading = true;\n      initActCategory().then(res => {\n        this.loading = false;\n        if (res.success) {\n          res.result.forEach(function(e) {\n            if (e.isParent) {\n              e.loading = false;\n              e.children = [];\n            }\n          });\n          this.data = res.result;\n        }\n      });\n    },\n    getParentListEdit() {\n      this.loadingEdit = true;\n      initActCategory().then(res => {\n        this.loadingEdit = false;\n        if (res.success) {\n          res.result.forEach(function(e) {\n            if (e.isParent) {\n              e.loading = false;\n              e.children = [];\n            }\n          });\n          // 头部加入一级\n          let first = {\n            id: \"0\",\n            title: \"一级节点\"\n          };\n          res.result.unshift(first);\n          this.dataEdit = res.result;\n        }\n      });\n    },\n    loadData(item, callback) {\n      loadActCategory(item.id).then(res => {\n        if (res.success) {\n          res.result.forEach(function(e) {\n            if (e.isParent) {\n              e.loading = false;\n              e.children = [];\n            }\n          });\n          callback(res.result);\n        }\n      });\n    },\n    search() {\n      if (this.searchKey) {\n        this.loading = true;\n        searchActCategory({ title: this.searchKey }).then(res => {\n          this.loading = false;\n          if (res.success) {\n            this.data = res.result;\n          }\n        });\n      } else {\n        this.getParentList();\n      }\n    },\n    selectTree(v) {\n      if (v && v.id != this.form.id) {\n        // 转换null为\"\"\n        for (let attr in v) {\n          if (v[attr] == null) {\n            v[attr] = \"\";\n          }\n        }\n        let str = JSON.stringify(v);\n        let data = JSON.parse(str);\n        data.type += \"\";\n        this.form = data;\n        this.editTitle = data.title;\n      } else {\n        this.cancelEdit();\n      }\n    },\n    cancelEdit() {\n      let data = this.$refs.tree.getSelectedNodes()[0];\n      if (data) {\n        data.selected = false;\n      }\n      this.$refs.form.resetFields();\n      this.form.id = \"\";\n      delete this.form.id;\n      this.editTitle = \"\";\n    },\n    selectTreeEdit(v) {\n      if (v) {\n        // 转换null为\"\"\n        for (let attr in v[0]) {\n          if (v[0][attr] == null) {\n            v[0][attr] = \"\";\n          }\n        }\n        let str = JSON.stringify(v[0]);\n        let data = JSON.parse(str);\n        this.form.parentId = data.id;\n        this.form.parentTitle = data.title;\n      }\n    },\n    cancelAdd() {\n      this.modalVisible = false;\n    },\n    handleReset() {\n      this.$refs.form.resetFields();\n      this.form.status = 0;\n    },\n    submitEdit() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (!this.form.id) {\n            this.$Message.warning(\"请先点击选择要修改的节点\");\n            return;\n          }\n          this.submitLoading = true;\n          editActCategory(this.form).then(res => {\n            this.submitLoading = false;\n            if (res.success) {\n              this.$Message.success(\"编辑成功\");\n              this.init();\n              this.modalVisible = false;\n            }\n          });\n        }\n      });\n    },\n    submitAdd() {\n      this.$refs.formAdd.validate(valid => {\n        if (valid) {\n          this.submitLoading = true;\n          addActCategory(this.formAdd).then(res => {\n            this.submitLoading = false;\n            if (res.success) {\n              this.$Message.success(\"添加成功\");\n              this.init();\n              this.modalVisible = false;\n            }\n          });\n        }\n      });\n    },\n    add() {\n      if (this.form.id == \"\" || this.form.id == null) {\n        this.$Message.warning(\"请先点击选择一个节点\");\n        return;\n      }\n      this.modalTitle = \"添加子类别\";\n      this.showParent = true;\n      this.formAdd = {\n        parentId: this.form.id,\n        sortOrder: 0,\n        status: 0,\n        type: null\n      };\n      this.modalVisible = true;\n    },\n    addRoot() {\n      this.modalTitle = \"添加一级类别\";\n      this.showParent = false;\n      this.formAdd = {\n        parentId: 0,\n        sortOrder: 0,\n        status: 0,\n        type: null\n      };\n      this.modalVisible = true;\n    },\n    changeSelect(v) {\n      this.selectCount = v.length;\n      this.selectList = v;\n    },\n    delAll() {\n      if (this.selectCount <= 0) {\n        this.$Message.warning(\"您还未勾选要删除的数据\");\n        return;\n      }\n      this.$Modal.confirm({\n        title: \"确认删除\",\n        content:\n          \"您确认要删除所选的 \" + this.selectCount + \" 条数据及其下级所有数据?\",\n        loading: true,\n        onOk: () => {\n          let ids = \"\";\n          this.selectList.forEach(function(e) {\n            ids += e.id + \",\";\n          });\n          ids = ids.substring(0, ids.length - 1);\n          deleteActCategory(ids).then(res => {\n            this.$Modal.remove();\n            if (res.success) {\n              this.$Message.success(\"删除成功\");\n              this.selectList = [];\n              this.selectCount = 0;\n              this.cancelEdit();\n              this.init();\n            }\n          });\n        }\n      });\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};\n</script>"],"sourceRoot":"src/views/activiti/category-manage"}]}