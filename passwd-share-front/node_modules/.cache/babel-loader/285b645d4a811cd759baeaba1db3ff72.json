{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/router/index.js","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/router/index.js","mtime":1577168504897},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfQoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVmlld1VJIGZyb20gJ3ZpZXctZGVzaWduJzsKaW1wb3J0IFV0aWwgZnJvbSAnLi4vbGlicy91dGlsJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKaW1wb3J0IHsgcm91dGVycywgb3RoZXJSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7ClZ1ZS51c2UoVnVlUm91dGVyKTsgLy8g6Lev55Sx6YWN572uCgp2YXIgUm91dGVyQ29uZmlnID0gewogIG1vZGU6ICdoaXN0b3J5JywKICByb3V0ZXM6IHJvdXRlcnMKfTsKZXhwb3J0IHZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKFJvdXRlckNvbmZpZyk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIFZpZXdVSS5Mb2FkaW5nQmFyLnN0YXJ0KCk7CiAgVXRpbC50aXRsZSh0by5tZXRhLnRpdGxlKTsKICB2YXIgbmFtZSA9IHRvLm5hbWU7CgogIGlmIChDb29raWVzLmdldCgnbG9ja2luZycpID09ICcxJyAmJiBuYW1lICE9PSAnbG9ja2luZycpIHsKICAgIC8vIOWIpOaWreW9k+WJjeaYr+WQpuaYr+mUgeWumueKtuaAgQogICAgbmV4dCh7CiAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgIG5hbWU6ICdsb2NraW5nJwogICAgfSk7CiAgfSBlbHNlIGlmIChDb29raWVzLmdldCgnbG9ja2luZycpID09ICcwJyAmJiBuYW1lID09ICdsb2NraW5nJykgewogICAgbmV4dChmYWxzZSk7CiAgfSBlbHNlIHsKICAgIC8vIOeZveWQjeWNlQogICAgdmFyIHdoaXRlTGlzdCA9IG5hbWUgIT0gJ2xvZ2luJyAmJiBuYW1lICE9ICdyZWdpc3QnICYmIG5hbWUgIT0gJ3JlZ2lzdC1yZXN1bHQnICYmIG5hbWUgIT0gJ3JlbGF0ZScgJiYgbmFtZSAhPSAncmVzZXQnICYmIG5hbWUgIT0gJ2F1dGhvcml6ZSc7CgogICAgaWYgKCFDb29raWVzLmdldCgndXNlckluZm8nKSAmJiB3aGl0ZUxpc3QpIHsKICAgICAgLy8g5Yik5pat5piv5ZCm5bey57uP55m75b2V5LiU5YmN5b6A55qE6aG16Z2i5LiN5piv55m75b2V6aG1CiAgICAgIG5leHQoewogICAgICAgIG5hbWU6ICdsb2dpbicKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKENvb2tpZXMuZ2V0KCd1c2VySW5mbycpICYmIG5hbWUgPT0gJ2xvZ2luJykgewogICAgICAvLyDliKTmlq3mmK/lkKblt7Lnu4/nmbvlvZXkuJTliY3lvoDnmoTmmK/nmbvlvZXpobUKICAgICAgVXRpbC50aXRsZSgpOwogICAgICBuZXh0KHsKICAgICAgICBuYW1lOiAnaG9tZV9pbmRleCcKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBVdGlsLnRvRGVmYXVsdFBhZ2UoX3RvQ29uc3VtYWJsZUFycmF5KHJvdXRlcnMpLCBuYW1lLCByb3V0ZXIsIG5leHQpOwogICAgfQogIH0KfSk7CnJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKHRvKSB7CiAgVXRpbC5vcGVuTmV3UGFnZShyb3V0ZXIuYXBwLCB0by5uYW1lLCB0by5wYXJhbXMsIHRvLnF1ZXJ5KTsKICBWaWV3VUkuTG9hZGluZ0Jhci5maW5pc2goKTsKICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7Cn0pOw=="},{"version":3,"sources":["/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/router/index.js"],"names":["Vue","ViewUI","Util","VueRouter","Cookies","routers","otherRouter","store","use","RouterConfig","mode","routes","router","beforeEach","to","from","next","LoadingBar","start","title","meta","name","get","replace","whiteList","toDefaultPage","afterEach","openNewPage","app","params","query","finish","window","scrollTo"],"mappings":";;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,UAArC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEAP,GAAG,CAACQ,GAAJ,CAAQL,SAAR,E,CAEA;;AACA,IAAMM,YAAY,GAAG;AACjBC,EAAAA,IAAI,EAAE,SADW;AAEjBC,EAAAA,MAAM,EAAEN;AAFS,CAArB;AAKA,OAAO,IAAMO,MAAM,GAAG,IAAIT,SAAJ,CAAcM,YAAd,CAAf;AAEPG,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClCf,EAAAA,MAAM,CAACgB,UAAP,CAAkBC,KAAlB;AACAhB,EAAAA,IAAI,CAACiB,KAAL,CAAWL,EAAE,CAACM,IAAH,CAAQD,KAAnB;AACA,MAAIE,IAAI,GAAGP,EAAE,CAACO,IAAd;;AACA,MAAIjB,OAAO,CAACkB,GAAR,CAAY,SAAZ,KAA0B,GAA1B,IAAiCD,IAAI,KAAK,SAA9C,EAAyD;AACrD;AACAL,IAAAA,IAAI,CAAC;AACDO,MAAAA,OAAO,EAAE,IADR;AAEDF,MAAAA,IAAI,EAAE;AAFL,KAAD,CAAJ;AAIH,GAND,MAMO,IAAIjB,OAAO,CAACkB,GAAR,CAAY,SAAZ,KAA0B,GAA1B,IAAiCD,IAAI,IAAI,SAA7C,EAAwD;AAC3DL,IAAAA,IAAI,CAAC,KAAD,CAAJ;AACH,GAFM,MAEA;AACH;AACA,QAAIQ,SAAS,GAAGH,IAAI,IAAI,OAAR,IAAmBA,IAAI,IAAI,QAA3B,IAAuCA,IAAI,IAAI,eAA/C,IAAkEA,IAAI,IAAI,QAA1E,IAAsFA,IAAI,IAAI,OAA9F,IAAyGA,IAAI,IAAI,WAAjI;;AACA,QAAI,CAACjB,OAAO,CAACkB,GAAR,CAAY,UAAZ,CAAD,IAA4BE,SAAhC,EAA2C;AACvC;AACAR,MAAAA,IAAI,CAAC;AACDK,QAAAA,IAAI,EAAE;AADL,OAAD,CAAJ;AAGH,KALD,MAKO,IAAIjB,OAAO,CAACkB,GAAR,CAAY,UAAZ,KAA2BD,IAAI,IAAI,OAAvC,EAAgD;AACnD;AACAnB,MAAAA,IAAI,CAACiB,KAAL;AACAH,MAAAA,IAAI,CAAC;AACDK,QAAAA,IAAI,EAAE;AADL,OAAD,CAAJ;AAGH,KANM,MAMA;AACHnB,MAAAA,IAAI,CAACuB,aAAL,oBAAuBpB,OAAvB,GAAiCgB,IAAjC,EAAuCT,MAAvC,EAA+CI,IAA/C;AACH;AACJ;AACJ,CA9BD;AAgCAJ,MAAM,CAACc,SAAP,CAAiB,UAACZ,EAAD,EAAQ;AACrBZ,EAAAA,IAAI,CAACyB,WAAL,CAAiBf,MAAM,CAACgB,GAAxB,EAA6Bd,EAAE,CAACO,IAAhC,EAAsCP,EAAE,CAACe,MAAzC,EAAiDf,EAAE,CAACgB,KAApD;AACA7B,EAAAA,MAAM,CAACgB,UAAP,CAAkBc,MAAlB;AACAC,EAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH,CAJD","sourcesContent":["import Vue from 'vue';\nimport ViewUI from 'view-design';\nimport Util from '../libs/util';\nimport VueRouter from 'vue-router';\nimport Cookies from 'js-cookie';\nimport { routers, otherRouter } from './router';\nimport store from '../store';\n\nVue.use(VueRouter);\n\n// 路由配置\nconst RouterConfig = {\n    mode: 'history',\n    routes: routers\n};\n\nexport const router = new VueRouter(RouterConfig);\n\nrouter.beforeEach((to, from, next) => {\n    ViewUI.LoadingBar.start();\n    Util.title(to.meta.title);\n    var name = to.name;\n    if (Cookies.get('locking') == '1' && name !== 'locking') {\n        // 判断当前是否是锁定状态\n        next({\n            replace: true,\n            name: 'locking'\n        });\n    } else if (Cookies.get('locking') == '0' && name == 'locking') {\n        next(false);\n    } else {\n        // 白名单\n        var whiteList = name != 'login' && name != 'regist' && name != 'regist-result' && name != 'relate' && name != 'reset' && name != 'authorize';\n        if (!Cookies.get('userInfo') && whiteList) {\n            // 判断是否已经登录且前往的页面不是登录页\n            next({\n                name: 'login'\n            });\n        } else if (Cookies.get('userInfo') && name == 'login') {\n            // 判断是否已经登录且前往的是登录页\n            Util.title();\n            next({\n                name: 'home_index'\n            });\n        } else {\n            Util.toDefaultPage([...routers], name, router, next);\n        }\n    }\n});\n\nrouter.afterEach((to) => {\n    Util.openNewPage(router.app, to.name, to.params, to.query);\n    ViewUI.LoadingBar.finish();\n    window.scrollTo(0, 0);\n});\n"]}]}