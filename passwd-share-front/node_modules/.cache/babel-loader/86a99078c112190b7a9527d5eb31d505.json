{"remainingRequest":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/relate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/src/views/relate.vue","mtime":1579164402669},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daiv/files/GitProjects/passwdShare/passwd-share-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvb2tpZXMgZnJvbSAianMtY29va2llIjsKaW1wb3J0IHsgdmFwdGNoYUlELCByZWxhdGUsIHVzZXJJbmZvLCBnZXRKV1QsIGdldE90aGVyU2V0IH0gZnJvbSAiQC9hcGkvaW5kZXgiOwppbXBvcnQgdXRpbCBmcm9tICJAL2xpYnMvdXRpbC5qcyI7CmltcG9ydCBIZWFkZXIgZnJvbSAiQC92aWV3cy9tYWluLWNvbXBvbmVudHMvaGVhZGVyIjsKaW1wb3J0IEZvb3RlciBmcm9tICJAL3ZpZXdzL21haW4tY29tcG9uZW50cy9mb290ZXIiOwppbXBvcnQgTGFuZ1N3aXRjaCBmcm9tICJAL3ZpZXdzL21haW4tY29tcG9uZW50cy9sYW5nLXN3aXRjaCI7CmltcG9ydCBSZWN0TG9hZGluZyBmcm9tICJAL3ZpZXdzL215LWNvbXBvbmVudHMvc2hhcmUvcmVjdC1sb2FkaW5nIjsKdmFyIHZhcHRjaGFPYmplY3Q7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMYW5nU3dpdGNoOiBMYW5nU3dpdGNoLAogICAgSGVhZGVyOiBIZWFkZXIsCiAgICBGb290ZXI6IEZvb3RlciwKICAgIFJlY3RMb2FkaW5nOiBSZWN0TG9hZGluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlbGF0ZUxvYWRpbmc6IHRydWUsCiAgICAgIGxvYWRpbmdWYXB0Y2hhOiB0cnVlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdmVyaWZpZWQ6IGZhbHNlLAogICAgICBmb3JtOiB7CiAgICAgICAgaXNMb2dpbjogZmFsc2UsCiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICBzb2NpYWxUeXBlOiBudWxsLAogICAgICAgIGlkOiAiIiwKICAgICAgICB0b2tlbjogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIui0puWPt+S4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuWvhueggeS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0UmVsYXRlOiBmdW5jdGlvbiBzdWJtaXRSZWxhdGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLnJlbGF0ZUxvZ2luRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgX3RoaXMuZm9ybS5pc0xvZ2luID0gZmFsc2U7CiAgICAgICAgICByZWxhdGUoX3RoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIC8vIOiOt+WPlkpXVAogICAgICAgICAgICAgIGdldEpXVCh7CiAgICAgICAgICAgICAgICBKV1RLZXk6IHJlcy5yZXN1bHQKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLnu5HlrprmiJDlip8iKTsKCiAgICAgICAgICAgICAgICAgIHZhciBhY2Nlc3NUb2tlbiA9IHJlcy5yZXN1bHQ7CgogICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdG9yZSgiYWNjZXNzVG9rZW4iLCBhY2Nlc3NUb2tlbik7CgogICAgICAgICAgICAgICAgICBnZXRPdGhlclNldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9tYWluID0gcmVzLnJlc3VsdC5zc29Eb21haW47CiAgICAgICAgICAgICAgICAgICAgICBDb29raWVzLnNldCgiYWNjZXNzVG9rZW4iLCBhY2Nlc3NUb2tlbiwgewogICAgICAgICAgICAgICAgICAgICAgICBkb21haW46IGRvbWFpbiwKICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogNwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsgLy8g6I635Y+W55So5oi35L+h5oGvCgogICAgICAgICAgICAgICAgICB1c2VySW5mbygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgLy8g6YG/5YWN6LaF6L+H5aSn5bCP6ZmQ5Yi2CiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzLnJlc3VsdC5wZXJtaXNzaW9uczsKICAgICAgICAgICAgICAgICAgICAgIHZhciByb2xlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgcmVzLnJlc3VsdC5yb2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVzLnB1c2goZS5uYW1lKTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0b3JlKCJyb2xlcyIsIHJvbGVzKTsgLy8g5L+d5a2YN+WkqQoKCiAgICAgICAgICAgICAgICAgICAgICBDb29raWVzLnNldCgidXNlckluZm8iLCBKU09OLnN0cmluZ2lmeShyZXMucmVzdWx0KSwgewogICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiA3CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdG9yZSgidXNlckluZm8iLCByZXMucmVzdWx0KTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRBdmF0YXJQYXRoIiwgcmVzLnJlc3VsdC5hdmF0YXIpOyAvLyDliqDovb3oj5zljZUKCgogICAgICAgICAgICAgICAgICAgICAgdXRpbC5pbml0Um91dGVyKF90aGlzKTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiaG9tZV9pbmRleCIKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgdmFwdGNoYU9iamVjdC5yZXNldCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbGF0ZURpcmVjdDogZnVuY3Rpb24gcmVsYXRlRGlyZWN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIOW3sueZu+W9lSDnm7TmjqXnu5HlrpoKICAgICAgdGhpcy5mb3JtLmlzTG9naW4gPSB0cnVlOwogICAgICByZWxhdGUodGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzMi4kTWVzc2FnZS5zdWNjZXNzKCLnu5HlrprmiJDlip8iKTsKICAgICAgICB9IC8vIOi/lOWbnuS4quS6uuS4reW/gwoKCiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAib3duc3BhY2VfaW5kZXgiLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgdHlwZTogInNvY2lhbCIKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdFZhcHRjaGE6IGZ1bmN0aW9uIGluaXRWYXB0Y2hhKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhcHRjaGEoewogICAgICAgIC8v6YWN572u5Y+C5pWwCiAgICAgICAgdmlkOiB2YXB0Y2hhSUQsCiAgICAgICAgLy8g6aqM6K+B5Y2V5YWDaWQKICAgICAgICB0eXBlOiAiaW52aXNpYmxlIiwKICAgICAgICAvLyDlsZXnjrDnsbvlnosg6ZqQ6JeP5byPCiAgICAgICAgb2ZmbGluZV9zZXJ2ZXI6ICLkvaDnmoTnprvnur/pqozor4HmjqXlj6PlnLDlnYAg5Y+v6YCJ5L2G5q2k5aSE5LiN6IO95Li656m6IgogICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YXB0Y2hhT2JqKSB7CiAgICAgICAgdmFwdGNoYU9iamVjdCA9IHZhcHRjaGFPYmo7CiAgICAgICAgdmFyIHVzZXJJbmZvID0gQ29va2llcy5nZXQoInVzZXJJbmZvIik7CgogICAgICAgIGlmICh1c2VySW5mbykgewogICAgICAgICAgdmFwdGNoYU9iamVjdC52YWxpZGF0ZSgpOyAvLyDlvIDlp4vpqozor4EKICAgICAgICB9CgogICAgICAgIHZhcHRjaGFPYmoubGlzdGVuKCJwYXNzIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhhdC5mb3JtLnRva2VuID0gdmFwdGNoYU9iai5nZXRUb2tlbigpOyAvLyDpqozor4HmiJDlip8g5Y+R6YCB57uR5a6a6K+35rGCCgogICAgICAgICAgaWYgKHVzZXJJbmZvKSB7CiAgICAgICAgICAgIC8vIOebtOaOpee7keWumgogICAgICAgICAgICB0aGF0LnJlbGF0ZURpcmVjdCgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g5pyq55m75b2V5aGr5YaZ6KGo5Y2V57uR5a6aCiAgICAgICAgICAgIHRoYXQuc3VibWl0UmVsYXRlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrVmFwdGNoYTogZnVuY3Rpb24gY2hlY2tWYXB0Y2hhKCkgewogICAgICB0aGlzLiRyZWZzLnJlbGF0ZUxvZ2luRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhcHRjaGFPYmplY3QudmFsaWRhdGUoKTsgLy8g6Iul5rKh6aqM6K+B6aqM6K+B56CBIOW8gOWni+mqjOivgQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHEgPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgIHRoaXMuZm9ybS5zb2NpYWxUeXBlID0gcS5zb2NpYWxUeXBlOwogICAgdGhpcy5mb3JtLmlkID0gcS5pZDsgLy8g5Yqg6L296aqM6K+B56CBCgogICAgdGhpcy5pbml0VmFwdGNoYSgpOwogICAgdmFyIHVzZXJJbmZvID0gQ29va2llcy5nZXQoInVzZXJJbmZvIik7CgogICAgaWYgKCF1c2VySW5mbykgewogICAgICB0aGlzLnJlbGF0ZUxvYWRpbmcgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["relate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,OAAA,OAAA,MAAA,WAAA;AACA,SAAA,SAAA,EAAA,MAAA,EAAA,QAAA,EAAA,MAAA,EAAA,WAAA,QAAA,aAAA;AACA,OAAA,IAAA,MAAA,gBAAA;AACA,OAAA,MAAA,MAAA,gCAAA;AACA,OAAA,MAAA,MAAA,gCAAA;AACA,OAAA,UAAA,MAAA,qCAAA;AACA,OAAA,WAAA,MAAA,0CAAA;AACA,IAAA,aAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,MAAA,EAAA,MAFA;AAGA,IAAA,MAAA,EAAA,MAHA;AAIA,IAAA,WAAA,EAAA;AAJA,GADA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,IADA;AAEA,MAAA,cAAA,EAAA,IAFA;AAGA,MAAA,OAAA,EAAA,KAHA;AAIA,MAAA,QAAA,EAAA,KAJA;AAKA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA,KADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA,EAHA;AAIA,QAAA,UAAA,EAAA,IAJA;AAKA,QAAA,EAAA,EAAA,EALA;AAMA,QAAA,KAAA,EAAA;AANA,OALA;AAaA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,QAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SADA,CADA;AAQA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,QAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SADA;AARA;AAbA,KAAA;AA8BA,GAtCA;AAuCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,KAAA,CAAA,eAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,OAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,OAAA,EAAA;AACA;AACA,cAAA,MAAA,CAAA;AAAA,gBAAA,MAAA,EAAA,GAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,oBAAA,GAAA,CAAA,OAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,sBAAA,WAAA,GAAA,GAAA,CAAA,MAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,aAAA,EAAA,WAAA;;AACA,kBAAA,WAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,wBAAA,GAAA,CAAA,MAAA,EAAA;AACA,0BAAA,MAAA,GAAA,GAAA,CAAA,MAAA,CAAA,SAAA;AACA,sBAAA,OAAA,CAAA,GAAA,CAAA,aAAA,EAAA,WAAA,EAAA;AACA,wBAAA,MAAA,EAAA,MADA;AAEA,wBAAA,OAAA,EAAA;AAFA,uBAAA;AAIA;AACA,mBARA,EAJA,CAaA;;AACA,kBAAA,QAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,wBAAA,GAAA,CAAA,OAAA,EAAA;AACA;AACA,6BAAA,GAAA,CAAA,MAAA,CAAA,WAAA;AACA,0BAAA,KAAA,GAAA,EAAA;AACA,sBAAA,GAAA,CAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,wBAAA,KAAA,CAAA,IAAA,CAAA,CAAA,CAAA,IAAA;AACA,uBAFA;;AAGA,sBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,EAAA,KAAA,EAPA,CAQA;;;AACA,sBAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,MAAA,CAAA,EAAA;AACA,wBAAA,OAAA,EAAA;AADA,uBAAA;;AAGA,sBAAA,KAAA,CAAA,QAAA,CAAA,UAAA,EAAA,GAAA,CAAA,MAAA;;AACA,sBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,eAAA,EAAA,GAAA,CAAA,MAAA,CAAA,MAAA,EAbA,CAcA;;;AACA,sBAAA,IAAA,CAAA,UAAA,CAAA,KAAA;;AACA,sBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,wBAAA,IAAA,EAAA;AADA,uBAAA;AAGA,qBAnBA,MAmBA;AACA,sBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA;AACA,mBAvBA;AAwBA,iBAtCA,MAsCA;AACA,kBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA;AACA,eA1CA;AA2CA,aA7CA,MA6CA;AACA,cAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,cAAA,aAAA,CAAA,KAAA;AACA;AACA,WAlDA;AAmDA;AACA,OAxDA;AAyDA,KA3DA;AA4DA,IAAA,YA5DA,0BA4DA;AAAA;;AACA;AACA,WAAA,IAAA,CAAA,OAAA,GAAA,IAAA;AACA,MAAA,MAAA,CAAA,KAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA,SAHA,CAIA;;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,gBADA;AAEA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA;AAFA,SAAA;AAMA,OAXA;AAYA,KA3EA;AA4EA,IAAA,WA5EA,yBA4EA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA;AACA;AACA,QAAA,GAAA,EAAA,SAFA;AAEA;AACA,QAAA,IAAA,EAAA,WAHA;AAGA;AACA,QAAA,cAAA,EAAA;AAJA,OAAA,CAAA,CAKA,IALA,CAKA,UAAA,UAAA,EAAA;AACA,QAAA,aAAA,GAAA,UAAA;AACA,YAAA,QAAA,GAAA,OAAA,CAAA,GAAA,CAAA,UAAA,CAAA;;AACA,YAAA,QAAA,EAAA;AACA,UAAA,aAAA,CAAA,QAAA,GADA,CACA;AACA;;AACA,QAAA,UAAA,CAAA,MAAA,CAAA,MAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,IAAA,CAAA,KAAA,GAAA,UAAA,CAAA,QAAA,EAAA,CADA,CAEA;;AACA,cAAA,QAAA,EAAA;AACA;AACA,YAAA,IAAA,CAAA,YAAA;AACA,WAHA,MAGA;AACA;AACA,YAAA,IAAA,CAAA,YAAA;AACA;AACA,SAVA;AAWA,OAtBA;AAuBA,KArGA;AAsGA,IAAA,YAtGA,0BAsGA;AACA,WAAA,KAAA,CAAA,eAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,aAAA,CAAA,QAAA,GADA,CACA;AACA;AACA,OAJA;AAKA;AA5GA,GAvCA;AAqJA,EAAA,OArJA,qBAqJA;AACA,QAAA,CAAA,GAAA,KAAA,MAAA,CAAA,KAAA;AACA,SAAA,IAAA,CAAA,UAAA,GAAA,CAAA,CAAA,UAAA;AACA,SAAA,IAAA,CAAA,EAAA,GAAA,CAAA,CAAA,EAAA,CAHA,CAIA;;AACA,SAAA,WAAA;AACA,QAAA,QAAA,GAAA,OAAA,CAAA,GAAA,CAAA,UAAA,CAAA;;AACA,QAAA,CAAA,QAAA,EAAA;AACA,WAAA,aAAA,GAAA,KAAA;AACA;AACA;AA/JA,CAAA","sourcesContent":["<template>\n  <div class=\"relate\">\n    <Row type=\"flex\" justify=\"center\" align=\"middle\" @keydown.enter.native=\"checkVaptcha\">\n      <Col style=\"width: 368px;\">\n        <Header />\n        <Row v-if=\"!relateLoading\">\n          <Tabs value=\"1\">\n            <TabPane label=\"绑定账号\" name=\"1\" icon=\"md-person-add\">\n              <Form ref=\"relateLoginForm\" :model=\"form\" :rules=\"rules\" class=\"form\">\n                <FormItem prop=\"username\">\n                  <Input\n                    v-model=\"form.username\"\n                    prefix=\"ios-contact\"\n                    size=\"large\"\n                    clearable\n                    placeholder=\"请输入用户名\"\n                    autocomplete=\"off\"\n                  />\n                </FormItem>\n                <FormItem prop=\"password\">\n                  <Input\n                    type=\"password\"\n                    v-model=\"form.password\"\n                    prefix=\"ios-lock\"\n                    size=\"large\"\n                    clearable\n                    placeholder=\"请输入密码\"\n                    autocomplete=\"off\"\n                  />\n                </FormItem>\n              </Form>\n            </TabPane>\n          </Tabs>\n          <Row>\n            <Button type=\"primary\" size=\"large\" :loading=\"loading\" @click=\"checkVaptcha\" long>\n              <span v-if=\"!loading\">立即绑定</span>\n              <span v-else>绑定中...</span>\n            </Button>\n          </Row>\n          <Row type=\"flex\" justify=\"space-between\" class=\"other-thing\">\n            <a @click=\"$router.go(-1)\" class=\"back\">\n              <Icon type=\"md-arrow-round-back\" style=\"margin-right:3px;\" />返回\n            </a>\n            <router-link to=\"/regist\">\n              <a class=\"back\">还没有账号？立即注册</a>\n            </router-link>\n          </Row>\n        </Row>\n        <div v-if=\"relateLoading\">\n          <RectLoading />\n        </div>\n        <Footer />\n      </Col>\n      <LangSwitch />\n    </Row>\n  </div>\n</template>\n\n<script>\nimport Cookies from \"js-cookie\";\nimport { vaptchaID, relate, userInfo, getJWT, getOtherSet } from \"@/api/index\";\nimport util from \"@/libs/util.js\";\nimport Header from \"@/views/main-components/header\";\nimport Footer from \"@/views/main-components/footer\";\nimport LangSwitch from \"@/views/main-components/lang-switch\";\nimport RectLoading from \"@/views/my-components/share/rect-loading\";\nvar vaptchaObject;\nexport default {\n  components: {\n    LangSwitch,\n    Header,\n    Footer,\n    RectLoading\n  },\n  data() {\n    return {\n      relateLoading: true,\n      loadingVaptcha: true,\n      loading: false,\n      verified: false,\n      form: {\n        isLogin: false,\n        username: \"\",\n        password: \"\",\n        socialType: null,\n        id: \"\",\n        token: \"\"\n      },\n      rules: {\n        username: [\n          {\n            required: true,\n            message: \"账号不能为空\",\n            trigger: \"blur\"\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: \"密码不能为空\",\n            trigger: \"blur\"\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    submitRelate() {\n      this.$refs.relateLoginForm.validate(valid => {\n        if (valid) {\n          this.loading = true;\n          this.form.isLogin = false;\n          relate(this.form).then(res => {\n            if (res.success) {\n              // 获取JWT\n              getJWT({ JWTKey: res.result }).then(res => {\n                if (res.success) {\n                  this.$Message.success(\"绑定成功\");\n                  let accessToken = res.result;\n                  this.setStore(\"accessToken\", accessToken);\n                  getOtherSet().then(res => {\n                    if (res.result) {\n                      let domain = res.result.ssoDomain;\n                      Cookies.set(\"accessToken\", accessToken, {\n                        domain: domain,\n                        expires: 7\n                      });\n                    }\n                  });\n                  // 获取用户信息\n                  userInfo().then(res => {\n                    if (res.success) {\n                      // 避免超过大小限制\n                      delete res.result.permissions;\n                      let roles = [];\n                      res.result.roles.forEach(e => {\n                        roles.push(e.name);\n                      });\n                      this.setStore(\"roles\", roles);\n                      // 保存7天\n                      Cookies.set(\"userInfo\", JSON.stringify(res.result), {\n                        expires: 7\n                      });\n                      this.setStore(\"userInfo\", res.result);\n                      this.$store.commit(\"setAvatarPath\", res.result.avatar);\n                      // 加载菜单\n                      util.initRouter(this);\n                      this.$router.push({\n                        name: \"home_index\"\n                      });\n                    } else {\n                      this.loading = false;\n                    }\n                  });\n                } else {\n                  this.loading = false;\n                }\n              });\n            } else {\n              this.loading = false;\n              vaptchaObject.reset();\n            }\n          });\n        }\n      });\n    },\n    relateDirect() {\n      // 已登录 直接绑定\n      this.form.isLogin = true;\n      relate(this.form).then(res => {\n        if (res.success) {\n          this.$Message.success(\"绑定成功\");\n        }\n        // 返回个人中心\n        this.$router.push({\n          name: \"ownspace_index\",\n          query: {\n            type: \"social\"\n          }\n        });\n      });\n    },\n    initVaptcha() {\n      let that = this;\n      vaptcha({\n        //配置参数\n        vid: vaptchaID, // 验证单元id\n        type: \"invisible\", // 展现类型 隐藏式\n        offline_server: \"你的离线验证接口地址 可选但此处不能为空\"\n      }).then(function(vaptchaObj) {\n        vaptchaObject = vaptchaObj;\n        let userInfo = Cookies.get(\"userInfo\");\n        if (userInfo) {\n          vaptchaObject.validate(); // 开始验证\n        }\n        vaptchaObj.listen(\"pass\", function() {\n          that.form.token = vaptchaObj.getToken();\n          // 验证成功 发送绑定请求\n          if (userInfo) {\n            // 直接绑定\n            that.relateDirect();\n          } else {\n            // 未登录填写表单绑定\n            that.submitRelate();\n          }\n        });\n      });\n    },\n    checkVaptcha() {\n      this.$refs.relateLoginForm.validate(valid => {\n        if (valid) {\n          vaptchaObject.validate(); // 若没验证验证码 开始验证\n        }\n      });\n    }\n  },\n  mounted() {\n    let q = this.$route.query;\n    this.form.socialType = q.socialType;\n    this.form.id = q.id;\n    // 加载验证码\n    this.initVaptcha();\n    let userInfo = Cookies.get(\"userInfo\");\n    if (!userInfo) {\n      this.relateLoading = false;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n@import \"./relate.less\";\n</style>\n"],"sourceRoot":"src/views"}]}